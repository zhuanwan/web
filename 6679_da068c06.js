"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[6679],{56679:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96540);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3676);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(74848);\n\n\n\nfunction Component() {\n  var canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var fabricCanvas = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var draw = function draw(canvas) {\n    var rect1 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 30,\n      width: 60,\n      height: 40,\n      fill: 'transparent',\n      stroke: 'red',\n      strokeDashArray: [10],\n      strokeDashOffset: 4 // 逆时针偏移\n    });\n    var rect2 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 120,\n      width: 60,\n      height: 40,\n      fill: 'transparent',\n      stroke: 'blue',\n      strokeDashArray: [10, 20],\n      strokeDashOffset: -4 // 顺时针偏移\n    });\n    canvas.add(rect1, rect2);\n  };\n  var init = function init(canvas) {\n    if (!canvas) {\n      return;\n    }\n    // 重置上一次的canvas\n    canvas.off('mouse:down');\n    canvas.off('mouse:wheel');\n    canvas.off('mouse:move');\n    canvas.off('mouse:up');\n    canvas.clear();\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n    draw(canvas);\n    canvas.on('mouse:wheel', function (opt) {\n      var delta = opt.e.deltaY; // 滚轮，向上滚一下是 -100，向下滚一下是 100\n      var zoom = canvas.getZoom(); // 获取画布当前缩放值\n      zoom *= Math.pow(0.999, delta);\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n\n      // 以左上角为原点\n      canvas.setZoom(zoom);\n\n      // 以鼠标所在位置为原点缩放\n      // canvas.zoomToPoint(\n      //   {\n      //     x: opt.e.offsetX,\n      //     y: opt.e.offsetY,\n      //   },\n      //   zoom\n      // )\n      opt.e.preventDefault();\n      opt.e.stopPropagation();\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var w = document.documentElement.clientWidth;\n    var h = document.documentElement.clientHeight;\n    canvasRef.current.width = w;\n    canvasRef.current.height = h;\n    fabricCanvas.current = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Canvas(canvasRef.current);\n    init(fabricCanvas.current);\n    return function () {\n      fabricCanvas.current = null;\n    };\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", {\n      ref: canvasRef\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY2NzkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9mYWJyaWMv5Z+656GA5Zu+5b2iL+efqeW9ojcuanN4PzIyZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IGZhYnJpYyB9IGZyb20gJ2ZhYnJpYydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbClcclxuICBjb25zdCBmYWJyaWNDYW52YXMgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgY29uc3QgZHJhdyA9IChjYW52YXMpID0+IHtcclxuICAgIGNvbnN0IHJlY3QxID0gbmV3IGZhYnJpYy5SZWN0KHtcclxuICAgICAgdG9wOiAyMCxcclxuICAgICAgbGVmdDogMzAsXHJcbiAgICAgIHdpZHRoOiA2MCxcclxuICAgICAgaGVpZ2h0OiA0MCxcclxuICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgc3Ryb2tlOiAncmVkJyxcclxuICAgICAgc3Ryb2tlRGFzaEFycmF5OiBbMTBdLFxyXG4gICAgICBzdHJva2VEYXNoT2Zmc2V0OiA0LCAvLyDpgIbml7bpkojlgY/np7tcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcmVjdDIgPSBuZXcgZmFicmljLlJlY3Qoe1xyXG4gICAgICB0b3A6IDIwLFxyXG4gICAgICBsZWZ0OiAxMjAsXHJcbiAgICAgIHdpZHRoOiA2MCxcclxuICAgICAgaGVpZ2h0OiA0MCxcclxuICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgc3Ryb2tlOiAnYmx1ZScsXHJcbiAgICAgIHN0cm9rZURhc2hBcnJheTogWzEwLCAyMF0sXHJcbiAgICAgIHN0cm9rZURhc2hPZmZzZXQ6IC00LCAvLyDpobrml7bpkojlgY/np7tcclxuICAgIH0pXHJcblxyXG4gICAgY2FudmFzLmFkZChyZWN0MSwgcmVjdDIpXHJcbiAgfVxyXG5cclxuICBjb25zdCBpbml0ID0gKGNhbnZhcykgPT4ge1xyXG4gICAgaWYgKCFjYW52YXMpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyDph43nva7kuIrkuIDmrKHnmoRjYW52YXNcclxuICAgIGNhbnZhcy5vZmYoJ21vdXNlOmRvd24nKVxyXG4gICAgY2FudmFzLm9mZignbW91c2U6d2hlZWwnKVxyXG4gICAgY2FudmFzLm9mZignbW91c2U6bW92ZScpXHJcbiAgICBjYW52YXMub2ZmKCdtb3VzZTp1cCcpXHJcbiAgICBjYW52YXMuY2xlYXIoKVxyXG4gICAgY2FudmFzLnNldFZpZXdwb3J0VHJhbnNmb3JtKFsxLCAwLCAwLCAxLCAwLCAwXSlcclxuXHJcbiAgICBkcmF3KGNhbnZhcylcclxuXHJcbiAgICBjYW52YXMub24oJ21vdXNlOndoZWVsJywgKG9wdCkgPT4ge1xyXG4gICAgICBjb25zdCBkZWx0YSA9IG9wdC5lLmRlbHRhWSAvLyDmu5rova7vvIzlkJHkuIrmu5rkuIDkuIvmmK8gLTEwMO+8jOWQkeS4i+a7muS4gOS4i+aYryAxMDBcclxuICAgICAgbGV0IHpvb20gPSBjYW52YXMuZ2V0Wm9vbSgpIC8vIOiOt+WPlueUu+W4g+W9k+WJjee8qeaUvuWAvFxyXG4gICAgICB6b29tICo9IDAuOTk5ICoqIGRlbHRhXHJcbiAgICAgIGlmICh6b29tID4gMjApIHpvb20gPSAyMFxyXG4gICAgICBpZiAoem9vbSA8IDAuMDEpIHpvb20gPSAwLjAxXHJcblxyXG4gICAgICAvLyDku6Xlt6bkuIrop5LkuLrljp/ngrlcclxuICAgICAgY2FudmFzLnNldFpvb20oem9vbSlcclxuXHJcbiAgICAgIC8vIOS7pem8oOagh+aJgOWcqOS9jee9ruS4uuWOn+eCuee8qeaUvlxyXG4gICAgICAvLyBjYW52YXMuem9vbVRvUG9pbnQoXHJcbiAgICAgIC8vICAge1xyXG4gICAgICAvLyAgICAgeDogb3B0LmUub2Zmc2V0WCxcclxuICAgICAgLy8gICAgIHk6IG9wdC5lLm9mZnNldFksXHJcbiAgICAgIC8vICAgfSxcclxuICAgICAgLy8gICB6b29tXHJcbiAgICAgIC8vIClcclxuICAgICAgb3B0LmUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICBvcHQuZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCB3ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXHJcbiAgICBjb25zdCBoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxyXG4gICAgY2FudmFzUmVmLmN1cnJlbnQud2lkdGggPSB3XHJcbiAgICBjYW52YXNSZWYuY3VycmVudC5oZWlnaHQgPSBoXHJcblxyXG4gICAgZmFicmljQ2FudmFzLmN1cnJlbnQgPSBuZXcgZmFicmljLkNhbnZhcyhjYW52YXNSZWYuY3VycmVudClcclxuICAgIGluaXQoZmFicmljQ2FudmFzLmN1cnJlbnQpXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBmYWJyaWNDYW52YXMuY3VycmVudCA9IG51bGxcclxuICAgIH1cclxuICB9LCBbXSlcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gLz5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56679\n")}}]);