"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[3029],{93029:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ fabric_echarts)\n});\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(96540);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js + 11 modules\nvar es_button = __webpack_require__(32365);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(26099);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(27495);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__(38781);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(25440);\n;// ./src/pages/fabric/echarts/data.js\n\n\n\n\nvar tree = {\n  type: -1,\n  children: [{\n    type: 1,\n    // 图片的类型\n    name: 'S060',\n    status: 1 // 机器状态：1：运行 2：故障\n  }, {\n    type: 0,\n    children: [{\n      type: 2,\n      name: '111',\n      status: 1\n    }, {\n      type: 3,\n      name: '222',\n      status: 2\n    }]\n  }, {\n    type: 0,\n    children: [{\n      type: 3,\n      name: '333',\n      status: 1\n    }, {\n      type: 3,\n      name: '444',\n      status: 1\n    }, {\n      type: 3,\n      name: '555',\n      status: 1\n    }]\n  }]\n};\nfunction getTreeChildren(deep) {\n  var result = [];\n  var childrenLen = deep > 0 ? Math.floor(Math.random() * 6) : 0;\n  if (childrenLen > 0) {\n    var newDeep = deep - 1;\n    for (var i = 0; i < childrenLen; i++) {\n      var element = {\n        children: getTreeChildren(newDeep)\n      };\n      result.push(element);\n    }\n  } else {\n    // 叶子节点\n    var leafNum = Math.floor(Math.random() * 4) + 1;\n    for (var _i = 0; _i < leafNum; _i++) {\n      result.push({\n        type: Math.floor(Math.random() * 4) + 1,\n        name: 'S060',\n        status: Math.floor(Math.random() * 2) + 1\n      });\n    }\n  }\n  return result;\n}\nfunction createRandomTree() {\n  var deep = Math.floor(Math.random() * 3) + 1; // 树的深度\n  var result = {\n    children: getTreeChildren(deep)\n  };\n  console.log('我是一颗树', result);\n  return result;\n}\nfunction guid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function f(c) {\n    // eslint-disable-next-line no-bitwise\n    var r = Math.random() * 16 | 0;\n    // eslint-disable-next-line no-bitwise\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/* harmony default export */ const data = ((/* unused pure expression or super */ null && (tree)));\n;// ./src/pages/fabric/echarts/index.module.less\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const index_module = ({\"box\":\"box___fHszF\",\"header\":\"header___kPm7V\",\"content\":\"content___rU24U\"});\n// EXTERNAL MODULE: ./node_modules/fabric/dist/fabric.js\nvar fabric = __webpack_require__(3676);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(62010);\n;// ./src/pages/fabric/components/FabricEchart.js\n\nvar CHART_EVENTS = {\n  mousemove: 'mousemove',\n  mousedown: 'mousedown',\n  mouseout: 'mouseout',\n  click: 'mousedown',\n  dblclick: 'dblclick',\n  mouseup: 'mouseup',\n  mouseover: 'mouseover'\n};\nvar FabricEChart = fabric.fabric.util.createClass(fabric.fabric.Object, {\n  type: 'chart',\n  // 添加一个 type 属性\n  // 初始化\n  initialize: function initialize(options) {\n    options.theme = options.theme || undefined;\n    this.chartOption = options.chart;\n    this.chartTheme = options.theme;\n    this.callSuper('initialize', options); // 继承\n    this.__bindChartEvents();\n    return this;\n  },\n  drawObject: function drawObject(ctx) {\n    this._render(ctx);\n  },\n  _render: function _render(ctx) {\n    ctx.drawImage(this.chartCanvas, -this.width / 2, -this.height / 2, this.width, this.height);\n  },\n  _set: function _set(key, value) {\n    this.callSuper('_set', key, value);\n    if (key === 'chartOption' && this.chartInstance) {\n      this.chartInstance.setOption(value);\n    } else if (key === 'theme') {\n      this.__createChart();\n    }\n    return this;\n  },\n  __createChart: function __createChart() {\n    var _this = this;\n    this.chartCanvas = this.chartCanvas || document.createElement('canvas');\n    this.chartInstance = echarts.init(this.chartCanvas, this.chartTheme, {\n      width: this.getScaledWidth(),\n      height: this.getScaledHeight(),\n      devicePixelRatio: 2\n    });\n    this.chartInstance.setOption(this.chartOption);\n    this.chartInstance.on('rendered', function () {\n      if (_this.canvas) {\n        _this.dirty = true;\n        _this.canvas.requestRenderAll();\n      }\n    });\n    return this.chartInstance;\n  },\n  __bindChartEvents: function __bindChartEvents() {\n    var _this2 = this;\n    var _loop = function _loop(name) {\n      if (Object.prototype.hasOwnProperty.call(CHART_EVENTS, name)) {\n        var event = CHART_EVENTS[name];\n        _this2.on(event, function (e) {\n          if (e && _this2.canvas && _this2.chartCanvas) {\n            var p = _this2.canvas.getPointer(e);\n            var _this2$toLocalPoint = _this2.toLocalPoint(new fabric.fabric.Point(p.x, p.y), 'left', 'top'),\n              x = _this2$toLocalPoint.x,\n              y = _this2$toLocalPoint.y;\n            if (isFinite(x) && isFinite(y)) {\n              _this2.chartCanvas.dispatchEvent(new MouseEvent(name, {\n                clientX: Math.floor(x),\n                clientY: Math.floor(y)\n              }));\n            }\n          }\n        });\n      }\n    };\n    for (var name in CHART_EVENTS) {\n      _loop(name);\n    }\n  }\n});\n;// ./src/static/imgs/ammeter.png\nconst ammeter_namespaceObject = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABCCAYAAAA476rKAAAAAXNSR0IArs4c6QAABHtJREFUeF7tnEFS2zAUQP9PMYPlRblB4QQNJ2g4QeEEwA3ork060zDTpN0VTgCcoOEE0BOQnqBwA7qwMxPTqKMYgZM4ji2ZLwHyKgtLsp5f5O9v+yNUtHHeXh0MhjsAuAUAjYq6NdIN57wPAH3Pg6Pl5a74XcmGVfQShp+2AGrHiLBaRX+W9XHo+94BYvtG97i0YQ8GzV3O8Vj3QGxuL0xnbHlTF7gW7MHgc4Nzfm4zqOqOjfcY627r9KcFO4qafwBwTecANNpeA/ArAHyn0Ueppoi46ftfL0o1Su2sDFus04i1n6oD67TjnP/1PGjEMWwh4hedvkq2PWOsIwIApU0ZdhS1xPJBHnVI0CJKMHHCEf+t+/73KxXaSrBNrtWIfM/3uydissNhs357i5cqE1dtwzmcBkFnV6W9EmxTVqdBy8lGUYurTFynjardpWGbs5ofMdbdn4YUhq0+IrzVgVe2rardpWGbsDpvclHU6gHA+7LAdPdXsbsUbDNW81+MdScuxIPBxzV5kQrDZps4IhmfJxW7S8Gmtppz+M2Y10jfuYVh8xgAUV6kTEQk8l9R1u7CsA1Yfe37Xj0NOp0akBM1EZFI2GXtLgyb0up0LC0nNnuyHy6YJiISFbsLwaa0Ogu0SN9GUXyRjjo4hxvGvHVhvomIRMXuQrCJrRZ55L2sPHKyZMDuXc78jW5EUVX7omv3QtiUVk9Ofpxk6i0t8VPbwRdduxfCprR6vmn2gy9idy5sc1bn/cEXg49j3EeEnaqWiSL9FLE7F7YdVgMsLfGNJMvXOpmEyK8Qa3vTOWYRiyOiUrKoCNh5+yyyey5sm6zmfLQdBN96GeHfzN2lKdBF7irnwrbF6mQS/CAIum3xO4qaF+LpTNbdZRS1RKLqh46dum3z7M6EbZPVd5O/f0Ii7iJHIzis1Ub1dBLflgfPeWt3JmybrL4zux8E3Q1pnYi30+GgbXLMs3sGtm0HLgEz1skUQ4CPYzy36Z2VeXbPTMA2qyVsGZGk11SRah2NXl3aBDovZzIB21ark6UkiUgechIiXzI8R8S67kXtMdpn2T0B21arpyOSJDFlL+h5dt/Dttnq5OAfntiYjKXL/Aum7b6HbbPVd7CvGOuuPxXQWXaPYdtv9b1PH0zftJQxe/qucgzbfqvLTtGu/WXcjU/IarsIljgauXajs7oENY1dhd0LHx5o9O+aThFwsAmVcLAdbEIChEM5sx1sQgKEQ4nQj/xlcsL5WTOUeLTnYBOdDgebCHSSI3Fmk+F2sMlQO7MJUTvYDjYpAcLB3JrtYBMSIBzKme1gExIgHMqZ7WATEiAcypntYBMSIBzKmU0IWxSmwTBs3iDia8JxX+RQonKaeHhgpDjKSyM+fknHhi+snjt48WVbEHTqmBSsjUVxV2s+vH9u8GXxxfGrDCar0Tw3sNPzSb8Qn/ry4PkXsDVwYs9839uV1YBmPmAajfghdek2AxAedUhRoAYADuVXyXKwnG8LRZ1T+vKfj0rh8TsXNQb7KyvLvazyz/8BinLnH9jxXEQAAAAASUVORK5CYII=\";\n;// ./src/static/imgs/piles.png\nconst piles_namespaceObject = \"data:image/png;base64,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\";\n;// ./src/static/imgs/pv.png\nconst pv_namespaceObject = \"data:image/png;base64,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\";\n;// ./src/static/imgs/root.png\nconst root_namespaceObject = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAApCAYAAABDV7v1AAAABHNCSVQICAgIfAhkiAAABRhJREFUWEfNWUlIY1kUvVFXKlQaQVdSaRXEjcNWhYozuOnSrUOlBXHATYu6cGNcO6AgDhs7EQVB0Oqdc0VQt926E9RO4UpR2gJ15dD3PP4LP8kfXtJJVV+Q/81/w3nnnXvf/fc76D+Y2+12pqam/sJDuB0OhwtDvb29lfK9k6/3fP1L+y3I18DLy8sfgUDgPp4pHfF0qqmp+cQgPAAYR/8AL8K3t7fnj6VvTEABkAf3SvYwUXl5OZWUlFB+fr6YF/ewh4cHuri4EPe4npyc0PHxcQgbgwXLXlXASkDr6upKeeDfeeBSzJSdnU29vb0CVGZmpjIxAA/As7OzdHNzI/sFeOG/7ezsCJmYmS3Q2tpaN4PcgO4AsL29nRoaGpTBmTXc2tqipaUlAVjTc9Pu7m4gLqDV1dWelJQUMEnMqmAxFgbtVgOGx8bGQpJ4fX39dX9/32fUz5RRPci2tjbBZLIMUtjY2BDDm4E1BIrt5j5f0HFgYCAhW223SEhhfHxcNquKlEEUUDgOr+oLNJlsJiPBS2ahWZZcld7BooAym3/Cu6HJoaEhOyIS/nxkZERqNsCsVskJwoBKXcK7FxYWEuo4qiuCg3V1dYlooNdrGFAO6H8jmH8vXVqFLugVhwIfCD+jXQions2VlRVVApLWrqWlJYzVEFDWJoLtB6/XSxUVFUkDoDrw0dERAQvbAWvVLYAiC0pLS/sH94hnqkH97u6Obm9vKTc3l9LT05UwnJ2dhdoVFhaa9oFWm5qaxPPn5+efBFC57UgwRkdHbSe8urqixcVFOjw8DLWtrKykvr4+ysrKsuy/vb0tTiPYzMwMWYGVEQBOJYCyE/nYiT719PRQc3Oz5UQA2d/fT/f30Wml0+mkyclJwbCVdXZ2UjAYJI/HQ9Cima2vr9Pc3Bycyi+ASn3C02SaZtZZTuJyuaixsVE0u7y8pM3NTXFfXFxMExMTlkDhrD6fj7ALYM3MkGkhArEdxARUChwgp6enw3Sp39LBwUGqr683BQCdQibYgbW1tZiAvqE1H1mWTIApMGcWGaBv6BYA/H6/pYPh5LObUzqUSAO1rVcCKrd9dXXV0GkkUxgTKaH0WqPVqwBFP9kuJqAqg6uyqjKWLkR9i0mjKoOrsCrbJM2ZJFDEUKsQpGfVKFxJrduFpyivV42jEoCd/hBrOzo6hDThWMPDw1RWVkY4yeCMCE0wM61LTUfFUdWTSYYgFa/WndWGkcSOTXSKOplUz/qnpyfCKwMMsRQsWRnATk1NRZ1iKiANz3otRAX4mvDsCYtDbH18fKSMjAwqKiqyPWKBxzB7wgO5/Tk5ObS8vGzJ1Pd42NraStfX16EsPzLDD3Jy8v5/lOF/5QzfBWIM35nA6vz8vHJemkiGoc3u7u4wNqOA6rWqmpsmEqTe0/leZPZyfMP3ek4C4FjvftR7Pc/9jbP6Uq6lBk2BaqxiJT+sUsJ+UhZZ3VOqPaHuBHaTZcjicQrBYqo9SUD6QhkSYbyqqL74qSwqIdU8OZFWMPsMzSIagF2r7F0FINrgOEZ9FLESmuS/j3HXR+WkWsV5iv//gN8AGIkJ3o9iYRgMnp6eioqzBhDDHbDjePSOY7RY24qzvhOkwEJHDf+9/F3W8AsKCsRPeXl5AjxA4aUPdn5+blTD/8rRxWtWuI0EGxPQCO16JMOq2621O2CH8akClGPHBVR2RtbFdcyPzHDoOxM/wweJd5ruQt+ZEJsZ4Od4vzP9C+QQBYRDP+CUAAAAAElFTkSuQmCC\";\n;// ./src/static/imgs/watermeter.png\nconst watermeter_namespaceObject = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAABOCAYAAABsdjtkAAAAAXNSR0IArs4c6QAAA9VJREFUeF7tnE9W2zAQxr8JPLIsN2i4QThBywmgJ2jYEa9Ck67bruu0WSXsoCconID0BKQ3SE9AuqSPZPqkOH3553hcO5LhTZYwtkc/fRpLo5Gp0eD9nT/4CuCEgH3ozxJg4Gq8h/NOh0bUrPMVEd4qm1UCzPjW7lGNmgHfq4LiJRJ2iagVMKuKFFImDcQqiYFfxBhmuvsTu5gJFQJeLru9abh9Crv08Ym1M5O7rYBNez8opA0YFZJAYwpJIQkICEy2rqRWnfsgvFrwhfEj7NFrgX/WJGa+Jn6BbGqkxAeFJKCkkBTSlIAOt4xKEFy+EXLcAlccMG0vauBO7geFlMxIlSRgpJAUUnxmUgN3pI7c8knvA67yZHGnhUoYfe7SQKJE+4Y845UlzCMw7FyQKPnXOOPKLlBZyQddUF/iw9Zn3BInim6jkAQ9pJAUkoCAwCS1kswWb4lxJbj3szGZEGoE1FYCv25OJvex7uAmM4JCUkgCAgITVZJCEhAQmKiSFJKAgMCkiEq6ifw+FvjvxKRYkBi/H8vTVMfuA4YgvHBCIeEhhYLEjDftHl0bn5t1PiHCd4W0SOAm7NLJ/J9aARtg3oddMZQUDTNTLz0PydSXF2HYFQLSBDj90qW1GYciDDv/kATlOWs3Ph0GK++QHic4SEr02wQ/YeDrbecbknjbKi5r6EJQ3iCZOvHxHqrLwTqu0dEhocG6Outtg/IGaVOwjmu0ryDuB5IgWMeB8hHE/UCa4CgU7qouw7K7vCXcbnuIzd/fPaQMKpo57lpN7iFlUNE/SI7V5BQSM362e1TNY6i4VJNTSP/zRosD+i7gWgm4zAN40j3cQYpZxCY5uOn/rTqPXMzCnUGaHfjNAmX5WlcHrJ1BynOozWC5mlw6gyRZyKZVmc03/cF92uvS2juDZB6U1jmJvYuT6ApJ0BMKqUiQCDhMU4kr8B224he4k9hmsXGmJDDOwx51sji7stitcwNkP0Sz1Z8zSMwYtnt0kGdrWgEbFeWyzNnklzNIxok850rPc1livkfEGI7LOJSmbON616ZyH3BHtFr9n6dSZ/dyqiT7UEY/7NFRlsa06nwLgviUeJZnmWvdQ5oq6npcxmlaRUUKuiTCwnZ4VghJ13uBFDk1wATn0jRulLY1b7KtB+plaD4hTX1h9O2308q4WVcLsPOAY1uA7nB4FQ/SnEcMjIhhj34xoVqUT6j5V1JSQCjA/xWSoBMUkkISEBCYqJKkkJoBD31Uawj8825iql/aXaqYz7oWptLVO5UlB2YVwTb3HM1ona2HigZjrT8T9Gcrgr+nD0p81hal6QAAAABJRU5ErkJggg==\";\n;// ./src/pages/fabric/echarts/fabricDraw.js\n\n\n\n\n\n\n\n\n\n\n// 常量\nvar LEAF_WIDTH = 68; // 设置叶子节点的width\nvar LEAF_SPERATE = 18; // 叶子节点间隔\n\nvar imgMap = {\n  1: ammeter_namespaceObject,\n  2: piles_namespaceObject,\n  3: watermeter_namespaceObject,\n  4: pv_namespaceObject\n};\nvar _getMonitorCount = function getMonitorCount(data) {\n  if (!data.children || !data.children.length) {\n    data.nodeCount = 1;\n    return 1;\n  }\n  var nodeCount = (data.children || []).reduce(function (prev, curr) {\n    return prev + _getMonitorCount(curr);\n  }, 0);\n  data.nodeCount = nodeCount;\n  return nodeCount;\n};\n\n// 画竖线\nvar drawLine = function drawLine(canvas, startX, startY, endX, endY) {\n  var line = new fabric.fabric.Line([startX, startY, endX, endY], {\n    fill: '#FFF',\n    stroke: '#000',\n    strokeWidth: 2,\n    evented: false\n  });\n  canvas.add(line);\n};\n\n// 画点击按钮\nvar drawClickBtn = function drawClickBtn(canvas, left, top, id) {\n  var textBorder = new fabric.fabric.Rect({\n    width: 40,\n    height: 22,\n    originX: 'center',\n    originY: 'center',\n    strokeWidth: 1,\n    stroke: '#f00',\n    fill: '#00f',\n    rx: 4,\n    // 圆角半径\n    ry: 4 // 圆角半径\n  });\n  var text = new fabric.fabric.Text('详情', {\n    fontSize: 12,\n    fill: '#0f0',\n    originX: 'center',\n    originY: 'center'\n  });\n  var textGroup = new fabric.fabric.Group([textBorder, text], {\n    name: 'clickBtn',\n    id: id,\n    left: left,\n    top: top,\n    hasControls: false,\n    hasBorders: false,\n    lockMovementX: true,\n    lockMovementY: true,\n    hoverCursor: 'pointer'\n  });\n  canvas.add(textGroup);\n};\n\n// 画头部\nvar drawRootNode = function drawRootNode(canvas, middleX, middleY) {\n  fabric.fabric.Image.fromURL(root_namespaceObject, function (img) {\n    img.set({\n      top: middleY,\n      left: middleX - 21,\n      angle: 0,\n      opacity: 1,\n      scaleX: 1,\n      scaleY: 1,\n      evented: false\n    });\n    canvas.add(img);\n  });\n  // 画点击按钮\n  drawClickBtn(canvas, middleX + 30, middleY + 100, '434');\n  // 画竖线\n  drawLine(canvas, middleX, middleY, middleX, middleY + 241);\n  // 画右侧echart图\n  var option = {\n    color: ['#80FFA5', '#00DDFF', '#37A2FF', '#FF0087', '#FFBF00'],\n    tooltip: {\n      trigger: 'axis',\n      axisPointer: {\n        type: 'cross',\n        label: {\n          backgroundColor: '#6a7985'\n        }\n      }\n    },\n    legend: {\n      data: ['Line 1', 'Line 2', 'Line 3', 'Line 4', 'Line 5']\n    },\n    toolbox: {\n      feature: {\n        saveAsImage: {}\n      }\n    },\n    grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '3%',\n      containLabel: true\n    },\n    xAxis: [{\n      type: 'category',\n      boundaryGap: false,\n      data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n    }],\n    yAxis: [{\n      type: 'value'\n    }],\n    series: [{\n      name: 'Line 1',\n      type: 'line',\n      stack: 'Total',\n      smooth: true,\n      lineStyle: {\n        width: 0\n      },\n      showSymbol: false,\n      areaStyle: {\n        opacity: 0.8,\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgb(128, 255, 165)'\n        }, {\n          offset: 1,\n          color: 'rgb(1, 191, 236)'\n        }])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [140, 232, 101, 264, 90, 340, 250]\n    }, {\n      name: 'Line 2',\n      type: 'line',\n      stack: 'Total',\n      smooth: true,\n      lineStyle: {\n        width: 0\n      },\n      showSymbol: false,\n      areaStyle: {\n        opacity: 0.8,\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgb(0, 221, 255)'\n        }, {\n          offset: 1,\n          color: 'rgb(77, 119, 255)'\n        }])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [120, 282, 111, 234, 220, 340, 310]\n    }, {\n      name: 'Line 3',\n      type: 'line',\n      stack: 'Total',\n      smooth: true,\n      lineStyle: {\n        width: 0\n      },\n      showSymbol: false,\n      areaStyle: {\n        opacity: 0.8,\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgb(55, 162, 255)'\n        }, {\n          offset: 1,\n          color: 'rgb(116, 21, 219)'\n        }])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [320, 132, 201, 334, 190, 130, 220]\n    }, {\n      name: 'Line 4',\n      type: 'line',\n      stack: 'Total',\n      smooth: true,\n      lineStyle: {\n        width: 0\n      },\n      showSymbol: false,\n      areaStyle: {\n        opacity: 0.8,\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgb(255, 0, 135)'\n        }, {\n          offset: 1,\n          color: 'rgb(135, 0, 157)'\n        }])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [220, 402, 231, 134, 190, 230, 120]\n    }, {\n      name: 'Line 5',\n      type: 'line',\n      stack: 'Total',\n      smooth: true,\n      lineStyle: {\n        width: 0\n      },\n      showSymbol: false,\n      label: {\n        show: true,\n        position: 'top'\n      },\n      areaStyle: {\n        opacity: 0.8,\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgb(255, 191, 0)'\n        }, {\n          offset: 1,\n          color: 'rgb(224, 62, 76)'\n        }])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [220, 302, 181, 234, 210, 290, 150]\n    }]\n  };\n  var chart = new FabricEChart({\n    top: 50,\n    left: middleX + 100,\n    width: 400,\n    height: 200,\n    chart: option,\n    hasControls: false,\n    hasBorders: false,\n    lockMovementX: true,\n    lockMovementY: true,\n    hoverCursor: 'default'\n  });\n  canvas.add(chart);\n};\n\n// 得到node中心点\nfunction getNodesPosition(dataArr, nodeCount, middleX, middleY) {\n  var positionArr = [];\n  var childLeft = middleX - (nodeCount * (LEAF_SPERATE + LEAF_WIDTH) - LEAF_SPERATE) / 2;\n  for (var i = 0; i < dataArr.length; i++) {\n    var chidNode = dataArr[i];\n    positionArr[i] = {\n      middleX: childLeft + (chidNode.nodeCount * (LEAF_SPERATE + LEAF_WIDTH) - LEAF_SPERATE) / 2,\n      middleY: middleY + 100\n    };\n    childLeft += chidNode.nodeCount * (LEAF_SPERATE + LEAF_WIDTH);\n  }\n  return positionArr;\n}\n\n// 递归画node\nfunction drawNodes(canvas, dataArr, positions) {\n  var _loop = function _loop() {\n    var data = dataArr[i];\n    var children = data.children,\n      type = data.type;\n    var _positions$i = positions[i],\n      middleX = _positions$i.middleX,\n      middleY = _positions$i.middleY;\n    // 如果是叶子节点\n    if (type > 0) {\n      // 画竖线\n      drawLine(canvas, middleX, middleY, middleX, middleY + 100);\n      // 画机器\n      var rect = new fabric.fabric.Rect({\n        top: middleY + 100,\n        left: middleX - 32,\n        fill: 'transparent',\n        strokeWidth: 2,\n        stroke: '#000',\n        width: 64,\n        height: 64,\n        rx: 4,\n        ry: 4,\n        evented: false\n      });\n      canvas.add(rect);\n      fabric.fabric.Image.fromURL(imgMap[type], function (img) {\n        img.set({\n          top: middleY + 100 + (59 - img.height / 2) / 2 + 4,\n          left: middleX - img.width / 4 + 1,\n          angle: 0,\n          opacity: 1,\n          scaleX: 0.5,\n          scaleY: 0.5,\n          evented: false\n        });\n        canvas.add(img);\n      });\n      var text = new fabric.fabric.Textbox(\"\" + data.name, {\n        left: middleX - 32,\n        top: middleY + 100 + 70,\n        width: 64,\n        height: 20,\n        textAlign: 'center',\n        fill: '#000',\n        fontSize: 14,\n        evented: false\n      });\n      canvas.add(text);\n    }\n    // 如果有子节点\n    if (children && children.length) {\n      // 画竖线\n      drawLine(canvas, middleX, middleY, middleX, middleY + 100);\n      // 画横线\n      var positionArr = getNodesPosition(children, data.nodeCount, middleX, middleY);\n      drawLine(canvas, positionArr[0].middleX, positionArr[0].middleY, positionArr[positionArr.length - 1].middleX, positionArr[positionArr.length - 1].middleY);\n      drawNodes(canvas, children, positionArr);\n    }\n  };\n  for (var i = 0; i < dataArr.length; i++) {\n    _loop();\n  }\n}\n\n// 画图\nfunction drawTopology(canvas, data, middleX, middleY) {\n  drawRootNode(canvas, middleX, middleY);\n  drawNodes(canvas, [data], [{\n    middleX: middleX,\n    middleY: middleY + 241\n  }]);\n}\nfunction initFabric(canvas, canvasWidth, canvasHeight, data, callback) {\n  if (!canvas) {\n    return;\n  }\n  // 重置上一次的canvas\n  canvas.off('mouse:down');\n  canvas.off('mouse:wheel');\n  canvas.off('mouse:move');\n  canvas.off('mouse:up');\n  canvas.clear();\n  canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n  canvas.setWidth(canvasWidth);\n  canvas.setHeight(canvasHeight);\n  var count = _getMonitorCount(data);\n  // 树的真实宽度\n  var realWidth = count * (LEAF_WIDTH + LEAF_SPERATE) - LEAF_SPERATE;\n  // 重新设置宽度\n  if (realWidth > canvasWidth) {\n    var middleX = realWidth / 2;\n    var middleY = 0;\n    drawTopology(canvas, data, middleX, middleY);\n    canvas.setZoom(canvasWidth / realWidth);\n  } else {\n    var _middleX = canvasWidth / 2;\n    var _middleY = 0;\n    drawTopology(canvas, data, _middleX, _middleY);\n    canvas.setZoom(1);\n  }\n  var panning = false;\n  canvas.on('mouse:down', function (opt) {\n    panning = true;\n    canvas.selection = false;\n    if (opt.target && opt.target.name === 'clickBtn') {\n      callback(opt.target.id);\n    }\n  });\n  canvas.on('mouse:up', function () {\n    panning = false;\n    canvas.selection = true;\n  });\n  canvas.on('mouse:move', function (opt) {\n    if (panning && opt && opt.e) {\n      var delta = new fabric.fabric.Point(opt.e.movementX, opt.e.movementY);\n      canvas.relativePan(delta);\n    }\n  });\n  canvas.on('mouse:wheel', function (opt) {\n    var delta = opt.e.deltaY;\n    var zoom = canvas.getZoom();\n    zoom *= Math.pow(0.999, delta);\n    if (zoom > 20) zoom = 20;\n    if (zoom < 0.01) zoom = 0.01;\n    canvas.zoomToPoint({\n      x: opt.e.offsetX,\n      y: opt.e.offsetY\n    }, zoom);\n    opt.e.preventDefault();\n    opt.e.stopPropagation();\n  });\n}\n;// ./src/pages/fabric/echarts/useChart.js\nvar _this = undefined;\n\n\n\nvar debounce = function debounce(fn, delay) {\n  if (delay === void 0) {\n    delay = 500;\n  }\n  var timer;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\nvar target;\nvar fabricCanvas;\nvar useChart_data;\nvar cb;\nfunction resize() {\n  if (!target.firstChild) {\n    return;\n  }\n  target.firstChild.style.display = 'none';\n  var _target = target,\n    clientWidth = _target.clientWidth,\n    clientHeight = _target.clientHeight;\n  initFabric(fabricCanvas, clientWidth, clientHeight - 4, useChart_data, cb);\n  target.firstChild.style.display = 'block';\n}\nfunction chartConfig(root, ajaxData, callback) {\n  if (!root || !ajaxData) {\n    return false;\n  }\n  useChart_data = ajaxData;\n  target = root;\n  cb = callback;\n  if (!fabricCanvas) {\n    var createDiv = document.createElement('div');\n    var createCanvas = document.createElement('canvas');\n    createDiv.append(createCanvas);\n    target.appendChild(createDiv);\n    fabricCanvas = new fabric.fabric.Canvas(createCanvas);\n  }\n  resize();\n  return fabricCanvas;\n}\nfunction useChart() {\n  var debounceResize = debounce(resize, 200);\n  (0,react.useEffect)(function () {\n    window.addEventListener('resize', debounceResize);\n    return function () {\n      window.removeEventListener('resize', debounceResize);\n      target = null;\n      fabricCanvas = null;\n      useChart_data = null;\n      cb = null;\n    };\n  }, []);\n}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(74848);\n;// ./src/pages/fabric/echarts/index.js\n\n\n\n\n\n\nfunction App() {\n  var rootRef = (0,react.useRef)(null);\n  useChart();\n  var renderData = function renderData() {\n    var data = createRandomTree();\n    chartConfig(rootRef.current, data, function (id) {\n      console.log('点击了id', id);\n    });\n  };\n  (0,react.useEffect)(function () {\n    setTimeout(function () {\n      renderData();\n    }, 200);\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n    className: index_module.box,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n      className: index_module.header,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Ay, {\n        onClick: renderData,\n        type: \"primary\",\n        children: \"\\u70B9\\u51FB\\u70B9\\u51FB\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n      className: index_module.content,\n      ref: rootRef\n    })]\n  });\n}\n/* harmony default export */ const fabric_echarts = (App);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMwMjkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FDM0ZBO0FBQ0E7Ozs7OztBQ0RBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5CQTtBQUFBO0FBQUE7QUFvQkE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNoRkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUE5REE7QUFBQTtBQUFBO0FBK0RBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9iQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDaEVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9mYWJyaWMvZWNoYXJ0cy9kYXRhLmpzPzRmZmMiLCJ3ZWJwYWNrOi8vd2ViLy4vc3JjL3BhZ2VzL2ZhYnJpYy9lY2hhcnRzL2luZGV4Lm1vZHVsZS5sZXNzPzA5NWEiLCJ3ZWJwYWNrOi8vd2ViLy4vc3JjL3BhZ2VzL2ZhYnJpYy9jb21wb25lbnRzL0ZhYnJpY0VjaGFydC5qcz9lNDdlIiwid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9mYWJyaWMvZWNoYXJ0cy9mYWJyaWNEcmF3LmpzPzY5MzgiLCJ3ZWJwYWNrOi8vd2ViLy4vc3JjL3BhZ2VzL2ZhYnJpYy9lY2hhcnRzL3VzZUNoYXJ0LmpzPzdmMjYiLCJ3ZWJwYWNrOi8vd2ViLy4vc3JjL3BhZ2VzL2ZhYnJpYy9lY2hhcnRzL2luZGV4LmpzPzkxYTYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdHJlZSA9IHtcclxuICB0eXBlOiAtMSxcclxuICBjaGlsZHJlbjogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiAxLCAvLyDlm77niYfnmoTnsbvlnotcclxuICAgICAgbmFtZTogJ1MwNjAnLFxyXG4gICAgICBzdGF0dXM6IDEsIC8vIOacuuWZqOeKtuaAge+8mjHvvJrov5DooYwgMu+8muaVhemanFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogMCxcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0eXBlOiAyLFxyXG4gICAgICAgICAgbmFtZTogJzExMScsXHJcbiAgICAgICAgICBzdGF0dXM6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0eXBlOiAzLFxyXG4gICAgICAgICAgbmFtZTogJzIyMicsXHJcbiAgICAgICAgICBzdGF0dXM6IDIsXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IDAsXHJcbiAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgIG5hbWU6ICczMzMnLFxyXG4gICAgICAgICAgc3RhdHVzOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgIG5hbWU6ICc0NDQnLFxyXG4gICAgICAgICAgc3RhdHVzOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdHlwZTogMyxcclxuICAgICAgICAgIG5hbWU6ICc1NTUnLFxyXG4gICAgICAgICAgc3RhdHVzOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9LFxyXG4gIF0sXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRyZWVDaGlsZHJlbihkZWVwKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gW11cclxuICBjb25zdCBjaGlsZHJlbkxlbiA9IGRlZXAgPiAwID8gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNikgOiAwXHJcbiAgaWYgKGNoaWxkcmVuTGVuID4gMCkge1xyXG4gICAgY29uc3QgbmV3RGVlcCA9IGRlZXAgLSAxXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuOyBpKyspIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHtcclxuICAgICAgICBjaGlsZHJlbjogZ2V0VHJlZUNoaWxkcmVuKG5ld0RlZXApLFxyXG4gICAgICB9XHJcbiAgICAgIHJlc3VsdC5wdXNoKGVsZW1lbnQpXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIOWPtuWtkOiKgueCuVxyXG4gICAgY29uc3QgbGVhZk51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpICsgMVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZWFmTnVtOyBpKyspIHtcclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgIHR5cGU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpICsgMSxcclxuICAgICAgICBuYW1lOiAnUzA2MCcsXHJcbiAgICAgICAgc3RhdHVzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSArIDEsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJhbmRvbVRyZWUoKSB7XHJcbiAgY29uc3QgZGVlcCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgMSAvLyDmoJHnmoTmt7HluqZcclxuICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICBjaGlsZHJlbjogZ2V0VHJlZUNoaWxkcmVuKGRlZXApLFxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ+aIkeaYr+S4gOmil+agkScsIHJlc3VsdClcclxuICByZXR1cm4gcmVzdWx0XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBndWlkKCkge1xyXG4gIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIGYoYykge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcclxuICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDBcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXHJcbiAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4OFxyXG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdHJlZVxyXG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImJveFwiOlwiYm94X19fZkhzekZcIixcImhlYWRlclwiOlwiaGVhZGVyX19fa1BtN1ZcIixcImNvbnRlbnRcIjpcImNvbnRlbnRfX19yVTI0VVwifTsiLCJpbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnXHJcblxyXG5jb25zdCBDSEFSVF9FVkVOVFMgPSB7XHJcbiAgbW91c2Vtb3ZlOiAnbW91c2Vtb3ZlJyxcclxuICBtb3VzZWRvd246ICdtb3VzZWRvd24nLFxyXG4gIG1vdXNlb3V0OiAnbW91c2VvdXQnLFxyXG4gIGNsaWNrOiAnbW91c2Vkb3duJyxcclxuICBkYmxjbGljazogJ2RibGNsaWNrJyxcclxuICBtb3VzZXVwOiAnbW91c2V1cCcsXHJcbiAgbW91c2VvdmVyOiAnbW91c2VvdmVyJyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEZhYnJpY0VDaGFydCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIHtcclxuICB0eXBlOiAnY2hhcnQnLCAvLyDmt7vliqDkuIDkuKogdHlwZSDlsZ7mgKdcclxuICAvLyDliJ3lp4vljJZcclxuICBpbml0aWFsaXplKG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMudGhlbWUgPSBvcHRpb25zLnRoZW1lIHx8IHVuZGVmaW5lZFxyXG4gICAgdGhpcy5jaGFydE9wdGlvbiA9IG9wdGlvbnMuY2hhcnRcclxuICAgIHRoaXMuY2hhcnRUaGVtZSA9IG9wdGlvbnMudGhlbWVcclxuICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucykgLy8g57un5om/XHJcbiAgICB0aGlzLl9fYmluZENoYXJ0RXZlbnRzKClcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuICBkcmF3T2JqZWN0KGN0eCkge1xyXG4gICAgdGhpcy5fcmVuZGVyKGN0eClcclxuICB9LFxyXG4gIF9yZW5kZXIoY3R4KSB7XHJcbiAgICBjdHguZHJhd0ltYWdlKHRoaXMuY2hhcnRDYW52YXMsIC10aGlzLndpZHRoIC8gMiwgLXRoaXMuaGVpZ2h0IC8gMiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXHJcbiAgfSxcclxuICBfc2V0KGtleSwgdmFsdWUpIHtcclxuICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0Jywga2V5LCB2YWx1ZSlcclxuICAgIGlmIChrZXkgPT09ICdjaGFydE9wdGlvbicgJiYgdGhpcy5jaGFydEluc3RhbmNlKSB7XHJcbiAgICAgIHRoaXMuY2hhcnRJbnN0YW5jZS5zZXRPcHRpb24odmFsdWUpXHJcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3RoZW1lJykge1xyXG4gICAgICB0aGlzLl9fY3JlYXRlQ2hhcnQoKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuICBfX2NyZWF0ZUNoYXJ0KCkge1xyXG4gICAgdGhpcy5jaGFydENhbnZhcyA9IHRoaXMuY2hhcnRDYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcclxuICAgIHRoaXMuY2hhcnRJbnN0YW5jZSA9IGVjaGFydHMuaW5pdCh0aGlzLmNoYXJ0Q2FudmFzLCB0aGlzLmNoYXJ0VGhlbWUsIHtcclxuICAgICAgd2lkdGg6IHRoaXMuZ2V0U2NhbGVkV2lkdGgoKSxcclxuICAgICAgaGVpZ2h0OiB0aGlzLmdldFNjYWxlZEhlaWdodCgpLFxyXG4gICAgICBkZXZpY2VQaXhlbFJhdGlvOiAyLFxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmNoYXJ0SW5zdGFuY2Uuc2V0T3B0aW9uKHRoaXMuY2hhcnRPcHRpb24pXHJcblxyXG4gICAgdGhpcy5jaGFydEluc3RhbmNlLm9uKCdyZW5kZXJlZCcsICgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWVcclxuICAgICAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gdGhpcy5jaGFydEluc3RhbmNlXHJcbiAgfSxcclxuICBfX2JpbmRDaGFydEV2ZW50cygpIHtcclxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBDSEFSVF9FVkVOVFMpIHtcclxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChDSEFSVF9FVkVOVFMsIG5hbWUpKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBDSEFSVF9FVkVOVFNbbmFtZV1cclxuXHJcbiAgICAgICAgdGhpcy5vbihldmVudCwgKGUpID0+IHtcclxuICAgICAgICAgIGlmIChlICYmIHRoaXMuY2FudmFzICYmIHRoaXMuY2hhcnRDYW52YXMpIHtcclxuICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIoZSlcclxuICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLnRvTG9jYWxQb2ludChuZXcgZmFicmljLlBvaW50KHAueCwgcC55KSwgJ2xlZnQnLCAndG9wJylcclxuICAgICAgICAgICAgaWYgKGlzRmluaXRlKHgpICYmIGlzRmluaXRlKHkpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jaGFydENhbnZhcy5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICAgICAgICAgICAgbmV3IE1vdXNlRXZlbnQobmFtZSwge1xyXG4gICAgICAgICAgICAgICAgICBjbGllbnRYOiBNYXRoLmZsb29yKHgpLFxyXG4gICAgICAgICAgICAgICAgICBjbGllbnRZOiBNYXRoLmZsb29yKHkpLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxufSlcclxuIiwiaW1wb3J0IHsgZmFicmljIH0gZnJvbSAnZmFicmljJ1xyXG5cclxuaW1wb3J0IHsgRmFicmljRUNoYXJ0IH0gZnJvbSAnQC9wYWdlcy9mYWJyaWMvY29tcG9uZW50cy9GYWJyaWNFY2hhcnQnXHJcbmltcG9ydCBhbW1ldGVySW1nIGZyb20gJ0Avc3RhdGljL2ltZ3MvYW1tZXRlci5wbmcnXHJcbmltcG9ydCBwaWxlc0ltZyBmcm9tICdAL3N0YXRpYy9pbWdzL3BpbGVzLnBuZydcclxuaW1wb3J0IHB2SW1nIGZyb20gJ0Avc3RhdGljL2ltZ3MvcHYucG5nJ1xyXG5pbXBvcnQgcm9vdEltZyBmcm9tICdAL3N0YXRpYy9pbWdzL3Jvb3QucG5nJ1xyXG5pbXBvcnQgd2F0ZXJtZXRlckltZyBmcm9tICdAL3N0YXRpYy9pbWdzL3dhdGVybWV0ZXIucG5nJ1xyXG5cclxuLy8g5bi46YePXHJcbmNvbnN0IExFQUZfV0lEVEggPSA2OCAvLyDorr7nva7lj7blrZDoioLngrnnmoR3aWR0aFxyXG5jb25zdCBMRUFGX1NQRVJBVEUgPSAxOCAvLyDlj7blrZDoioLngrnpl7TpmpRcclxuXHJcbmNvbnN0IGltZ01hcCA9IHtcclxuICAxOiBhbW1ldGVySW1nLFxyXG4gIDI6IHBpbGVzSW1nLFxyXG4gIDM6IHdhdGVybWV0ZXJJbWcsXHJcbiAgNDogcHZJbWcsXHJcbn1cclxuXHJcbmNvbnN0IGdldE1vbml0b3JDb3VudCA9IChkYXRhKSA9PiB7XHJcbiAgaWYgKCFkYXRhLmNoaWxkcmVuIHx8ICFkYXRhLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgZGF0YS5ub2RlQ291bnQgPSAxXHJcbiAgICByZXR1cm4gMVxyXG4gIH1cclxuICBjb25zdCBub2RlQ291bnQgPSAoZGF0YS5jaGlsZHJlbiB8fCBbXSkucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XHJcbiAgICByZXR1cm4gcHJldiArIGdldE1vbml0b3JDb3VudChjdXJyKVxyXG4gIH0sIDApXHJcbiAgZGF0YS5ub2RlQ291bnQgPSBub2RlQ291bnRcclxuICByZXR1cm4gbm9kZUNvdW50XHJcbn1cclxuXHJcbi8vIOeUu+erlue6v1xyXG5jb25zdCBkcmF3TGluZSA9IChjYW52YXMsIHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSA9PiB7XHJcbiAgY29uc3QgbGluZSA9IG5ldyBmYWJyaWMuTGluZShbc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFldLCB7XHJcbiAgICBmaWxsOiAnI0ZGRicsXHJcbiAgICBzdHJva2U6ICcjMDAwJyxcclxuICAgIHN0cm9rZVdpZHRoOiAyLFxyXG4gICAgZXZlbnRlZDogZmFsc2UsXHJcbiAgfSlcclxuICBjYW52YXMuYWRkKGxpbmUpXHJcbn1cclxuXHJcbi8vIOeUu+eCueWHu+aMiemSrlxyXG5jb25zdCBkcmF3Q2xpY2tCdG4gPSAoY2FudmFzLCBsZWZ0LCB0b3AsIGlkKSA9PiB7XHJcbiAgY29uc3QgdGV4dEJvcmRlciA9IG5ldyBmYWJyaWMuUmVjdCh7XHJcbiAgICB3aWR0aDogNDAsXHJcbiAgICBoZWlnaHQ6IDIyLFxyXG4gICAgb3JpZ2luWDogJ2NlbnRlcicsXHJcbiAgICBvcmlnaW5ZOiAnY2VudGVyJyxcclxuICAgIHN0cm9rZVdpZHRoOiAxLFxyXG4gICAgc3Ryb2tlOiAnI2YwMCcsXHJcbiAgICBmaWxsOiAnIzAwZicsXHJcbiAgICByeDogNCwgLy8g5ZyG6KeS5Y2K5b6EXHJcbiAgICByeTogNCwgLy8g5ZyG6KeS5Y2K5b6EXHJcbiAgfSlcclxuICBjb25zdCB0ZXh0ID0gbmV3IGZhYnJpYy5UZXh0KCfor6bmg4UnLCB7XHJcbiAgICBmb250U2l6ZTogMTIsXHJcbiAgICBmaWxsOiAnIzBmMCcsXHJcbiAgICBvcmlnaW5YOiAnY2VudGVyJyxcclxuICAgIG9yaWdpblk6ICdjZW50ZXInLFxyXG4gIH0pXHJcbiAgY29uc3QgdGV4dEdyb3VwID0gbmV3IGZhYnJpYy5Hcm91cChbdGV4dEJvcmRlciwgdGV4dF0sIHtcclxuICAgIG5hbWU6ICdjbGlja0J0bicsXHJcbiAgICBpZCxcclxuICAgIGxlZnQsXHJcbiAgICB0b3AsXHJcbiAgICBoYXNDb250cm9sczogZmFsc2UsXHJcbiAgICBoYXNCb3JkZXJzOiBmYWxzZSxcclxuICAgIGxvY2tNb3ZlbWVudFg6IHRydWUsXHJcbiAgICBsb2NrTW92ZW1lbnRZOiB0cnVlLFxyXG4gICAgaG92ZXJDdXJzb3I6ICdwb2ludGVyJyxcclxuICB9KVxyXG4gIGNhbnZhcy5hZGQodGV4dEdyb3VwKVxyXG59XHJcblxyXG4vLyDnlLvlpLTpg6hcclxuY29uc3QgZHJhd1Jvb3ROb2RlID0gKGNhbnZhcywgbWlkZGxlWCwgbWlkZGxlWSkgPT4ge1xyXG4gIGZhYnJpYy5JbWFnZS5mcm9tVVJMKHJvb3RJbWcsIChpbWcpID0+IHtcclxuICAgIGltZy5zZXQoe1xyXG4gICAgICB0b3A6IG1pZGRsZVksXHJcbiAgICAgIGxlZnQ6IG1pZGRsZVggLSAyMSxcclxuICAgICAgYW5nbGU6IDAsXHJcbiAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgIHNjYWxlWDogMSxcclxuICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICBldmVudGVkOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICBjYW52YXMuYWRkKGltZylcclxuICB9KVxyXG4gIC8vIOeUu+eCueWHu+aMiemSrlxyXG4gIGRyYXdDbGlja0J0bihjYW52YXMsIG1pZGRsZVggKyAzMCwgbWlkZGxlWSArIDEwMCwgJzQzNCcpXHJcbiAgLy8g55S756uW57q/XHJcbiAgZHJhd0xpbmUoY2FudmFzLCBtaWRkbGVYLCBtaWRkbGVZLCBtaWRkbGVYLCBtaWRkbGVZICsgMjQxKVxyXG4gIC8vIOeUu+WPs+S+p2VjaGFydOWbvlxyXG4gIGNvbnN0IG9wdGlvbiA9IHtcclxuICAgIGNvbG9yOiBbJyM4MEZGQTUnLCAnIzAwRERGRicsICcjMzdBMkZGJywgJyNGRjAwODcnLCAnI0ZGQkYwMCddLFxyXG4gICAgdG9vbHRpcDoge1xyXG4gICAgICB0cmlnZ2VyOiAnYXhpcycsXHJcbiAgICAgIGF4aXNQb2ludGVyOiB7XHJcbiAgICAgICAgdHlwZTogJ2Nyb3NzJyxcclxuICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzZhNzk4NScsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBsZWdlbmQ6IHtcclxuICAgICAgZGF0YTogWydMaW5lIDEnLCAnTGluZSAyJywgJ0xpbmUgMycsICdMaW5lIDQnLCAnTGluZSA1J10sXHJcbiAgICB9LFxyXG4gICAgdG9vbGJveDoge1xyXG4gICAgICBmZWF0dXJlOiB7XHJcbiAgICAgICAgc2F2ZUFzSW1hZ2U6IHt9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGdyaWQ6IHtcclxuICAgICAgbGVmdDogJzMlJyxcclxuICAgICAgcmlnaHQ6ICc0JScsXHJcbiAgICAgIGJvdHRvbTogJzMlJyxcclxuICAgICAgY29udGFpbkxhYmVsOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHhBeGlzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLFxyXG4gICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSxcclxuICAgICAgICBkYXRhOiBbJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0JywgJ1N1biddLFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICAgIHlBeGlzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlOiAndmFsdWUnLFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICAgIHNlcmllczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0xpbmUgMScsXHJcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgIHN0YWNrOiAnVG90YWwnLFxyXG4gICAgICAgIHNtb290aDogdHJ1ZSxcclxuICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2hvd1N5bWJvbDogZmFsc2UsXHJcbiAgICAgICAgYXJlYVN0eWxlOiB7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICBjb2xvcjogbmV3IGVjaGFydHMuZ3JhcGhpYy5MaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxLCBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICdyZ2IoMTI4LCAyNTUsIDE2NSknLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgb2Zmc2V0OiAxLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiAncmdiKDEsIDE5MSwgMjM2KScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICBdKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtcGhhc2lzOiB7XHJcbiAgICAgICAgICBmb2N1czogJ3NlcmllcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhOiBbMTQwLCAyMzIsIDEwMSwgMjY0LCA5MCwgMzQwLCAyNTBdLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0xpbmUgMicsXHJcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgIHN0YWNrOiAnVG90YWwnLFxyXG4gICAgICAgIHNtb290aDogdHJ1ZSxcclxuICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2hvd1N5bWJvbDogZmFsc2UsXHJcbiAgICAgICAgYXJlYVN0eWxlOiB7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICBjb2xvcjogbmV3IGVjaGFydHMuZ3JhcGhpYy5MaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxLCBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICdyZ2IoMCwgMjIxLCAyNTUpJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG9mZnNldDogMSxcclxuICAgICAgICAgICAgICBjb2xvcjogJ3JnYig3NywgMTE5LCAyNTUpJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF0pLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1waGFzaXM6IHtcclxuICAgICAgICAgIGZvY3VzOiAnc2VyaWVzJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGE6IFsxMjAsIDI4MiwgMTExLCAyMzQsIDIyMCwgMzQwLCAzMTBdLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0xpbmUgMycsXHJcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgIHN0YWNrOiAnVG90YWwnLFxyXG4gICAgICAgIHNtb290aDogdHJ1ZSxcclxuICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2hvd1N5bWJvbDogZmFsc2UsXHJcbiAgICAgICAgYXJlYVN0eWxlOiB7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICBjb2xvcjogbmV3IGVjaGFydHMuZ3JhcGhpYy5MaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxLCBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICdyZ2IoNTUsIDE2MiwgMjU1KScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDEsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICdyZ2IoMTE2LCAyMSwgMjE5KScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICBdKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtcGhhc2lzOiB7XHJcbiAgICAgICAgICBmb2N1czogJ3NlcmllcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhOiBbMzIwLCAxMzIsIDIwMSwgMzM0LCAxOTAsIDEzMCwgMjIwXSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdMaW5lIDQnLFxyXG4gICAgICAgIHR5cGU6ICdsaW5lJyxcclxuICAgICAgICBzdGFjazogJ1RvdGFsJyxcclxuICAgICAgICBzbW9vdGg6IHRydWUsXHJcbiAgICAgICAgbGluZVN0eWxlOiB7XHJcbiAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3dTeW1ib2w6IGZhbHNlLFxyXG4gICAgICAgIGFyZWFTdHlsZToge1xyXG4gICAgICAgICAgb3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgY29sb3I6IG5ldyBlY2hhcnRzLmdyYXBoaWMuTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgMSwgW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiAncmdiKDI1NSwgMCwgMTM1KScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBvZmZzZXQ6IDEsXHJcbiAgICAgICAgICAgICAgY29sb3I6ICdyZ2IoMTM1LCAwLCAxNTcpJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF0pLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1waGFzaXM6IHtcclxuICAgICAgICAgIGZvY3VzOiAnc2VyaWVzJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGE6IFsyMjAsIDQwMiwgMjMxLCAxMzQsIDE5MCwgMjMwLCAxMjBdLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0xpbmUgNScsXHJcbiAgICAgICAgdHlwZTogJ2xpbmUnLFxyXG4gICAgICAgIHN0YWNrOiAnVG90YWwnLFxyXG4gICAgICAgIHNtb290aDogdHJ1ZSxcclxuICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2hvd1N5bWJvbDogZmFsc2UsXHJcbiAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhcmVhU3R5bGU6IHtcclxuICAgICAgICAgIG9wYWNpdHk6IDAuOCxcclxuICAgICAgICAgIGNvbG9yOiBuZXcgZWNoYXJ0cy5ncmFwaGljLkxpbmVhckdyYWRpZW50KDAsIDAsIDAsIDEsIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgICBjb2xvcjogJ3JnYigyNTUsIDE5MSwgMCknLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgb2Zmc2V0OiAxLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiAncmdiKDIyNCwgNjIsIDc2KScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICBdKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtcGhhc2lzOiB7XHJcbiAgICAgICAgICBmb2N1czogJ3NlcmllcycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhOiBbMjIwLCAzMDIsIDE4MSwgMjM0LCAyMTAsIDI5MCwgMTUwXSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgfVxyXG4gIGNvbnN0IGNoYXJ0ID0gbmV3IEZhYnJpY0VDaGFydCh7XHJcbiAgICB0b3A6IDUwLFxyXG4gICAgbGVmdDogbWlkZGxlWCArIDEwMCxcclxuICAgIHdpZHRoOiA0MDAsXHJcbiAgICBoZWlnaHQ6IDIwMCxcclxuICAgIGNoYXJ0OiBvcHRpb24sXHJcbiAgICBoYXNDb250cm9sczogZmFsc2UsXHJcbiAgICBoYXNCb3JkZXJzOiBmYWxzZSxcclxuICAgIGxvY2tNb3ZlbWVudFg6IHRydWUsXHJcbiAgICBsb2NrTW92ZW1lbnRZOiB0cnVlLFxyXG4gICAgaG92ZXJDdXJzb3I6ICdkZWZhdWx0JyxcclxuICB9KVxyXG5cclxuICBjYW52YXMuYWRkKGNoYXJ0KVxyXG59XHJcblxyXG4vLyDlvpfliLBub2Rl5Lit5b+D54K5XHJcbmZ1bmN0aW9uIGdldE5vZGVzUG9zaXRpb24oZGF0YUFyciwgbm9kZUNvdW50LCBtaWRkbGVYLCBtaWRkbGVZKSB7XHJcbiAgY29uc3QgcG9zaXRpb25BcnIgPSBbXVxyXG4gIGxldCBjaGlsZExlZnQgPSBtaWRkbGVYIC0gKG5vZGVDb3VudCAqIChMRUFGX1NQRVJBVEUgKyBMRUFGX1dJRFRIKSAtIExFQUZfU1BFUkFURSkgLyAyXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBjaGlkTm9kZSA9IGRhdGFBcnJbaV1cclxuICAgIHBvc2l0aW9uQXJyW2ldID0ge1xyXG4gICAgICBtaWRkbGVYOiBjaGlsZExlZnQgKyAoY2hpZE5vZGUubm9kZUNvdW50ICogKExFQUZfU1BFUkFURSArIExFQUZfV0lEVEgpIC0gTEVBRl9TUEVSQVRFKSAvIDIsXHJcbiAgICAgIG1pZGRsZVk6IG1pZGRsZVkgKyAxMDAsXHJcbiAgICB9XHJcblxyXG4gICAgY2hpbGRMZWZ0ICs9IGNoaWROb2RlLm5vZGVDb3VudCAqIChMRUFGX1NQRVJBVEUgKyBMRUFGX1dJRFRIKVxyXG4gIH1cclxuICByZXR1cm4gcG9zaXRpb25BcnJcclxufVxyXG5cclxuLy8g6YCS5b2S55S7bm9kZVxyXG5mdW5jdGlvbiBkcmF3Tm9kZXMoY2FudmFzLCBkYXRhQXJyLCBwb3NpdGlvbnMpIHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IGRhdGEgPSBkYXRhQXJyW2ldXHJcbiAgICBjb25zdCB7IGNoaWxkcmVuLCB0eXBlIH0gPSBkYXRhXHJcbiAgICBjb25zdCB7IG1pZGRsZVgsIG1pZGRsZVkgfSA9IHBvc2l0aW9uc1tpXVxyXG4gICAgLy8g5aaC5p6c5piv5Y+25a2Q6IqC54K5XHJcbiAgICBpZiAodHlwZSA+IDApIHtcclxuICAgICAgLy8g55S756uW57q/XHJcbiAgICAgIGRyYXdMaW5lKGNhbnZhcywgbWlkZGxlWCwgbWlkZGxlWSwgbWlkZGxlWCwgbWlkZGxlWSArIDEwMClcclxuICAgICAgLy8g55S75py65ZmoXHJcbiAgICAgIGNvbnN0IHJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xyXG4gICAgICAgIHRvcDogbWlkZGxlWSArIDEwMCxcclxuICAgICAgICBsZWZ0OiBtaWRkbGVYIC0gMzIsXHJcbiAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBzdHJva2VXaWR0aDogMixcclxuICAgICAgICBzdHJva2U6ICcjMDAwJyxcclxuICAgICAgICB3aWR0aDogNjQsXHJcbiAgICAgICAgaGVpZ2h0OiA2NCxcclxuICAgICAgICByeDogNCxcclxuICAgICAgICByeTogNCxcclxuICAgICAgICBldmVudGVkOiBmYWxzZSxcclxuICAgICAgfSlcclxuICAgICAgY2FudmFzLmFkZChyZWN0KVxyXG4gICAgICBmYWJyaWMuSW1hZ2UuZnJvbVVSTChpbWdNYXBbdHlwZV0sIChpbWcpID0+IHtcclxuICAgICAgICBpbWcuc2V0KHtcclxuICAgICAgICAgIHRvcDogbWlkZGxlWSArIDEwMCArICg1OSAtIGltZy5oZWlnaHQgLyAyKSAvIDIgKyA0LFxyXG4gICAgICAgICAgbGVmdDogbWlkZGxlWCAtIGltZy53aWR0aCAvIDQgKyAxLFxyXG4gICAgICAgICAgYW5nbGU6IDAsXHJcbiAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgc2NhbGVYOiAwLjUsXHJcbiAgICAgICAgICBzY2FsZVk6IDAuNSxcclxuICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY2FudmFzLmFkZChpbWcpXHJcbiAgICAgIH0pXHJcbiAgICAgIGNvbnN0IHRleHQgPSBuZXcgZmFicmljLlRleHRib3goYCR7ZGF0YS5uYW1lfWAsIHtcclxuICAgICAgICBsZWZ0OiBtaWRkbGVYIC0gMzIsXHJcbiAgICAgICAgdG9wOiBtaWRkbGVZICsgMTAwICsgNzAsXHJcbiAgICAgICAgd2lkdGg6IDY0LFxyXG4gICAgICAgIGhlaWdodDogMjAsXHJcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICBmaWxsOiAnIzAwMCcsXHJcbiAgICAgICAgZm9udFNpemU6IDE0LFxyXG4gICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxyXG4gICAgICB9KVxyXG4gICAgICBjYW52YXMuYWRkKHRleHQpXHJcbiAgICB9XHJcbiAgICAvLyDlpoLmnpzmnInlrZDoioLngrlcclxuICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgLy8g55S756uW57q/XHJcbiAgICAgIGRyYXdMaW5lKGNhbnZhcywgbWlkZGxlWCwgbWlkZGxlWSwgbWlkZGxlWCwgbWlkZGxlWSArIDEwMClcclxuICAgICAgLy8g55S75qiq57q/XHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uQXJyID0gZ2V0Tm9kZXNQb3NpdGlvbihjaGlsZHJlbiwgZGF0YS5ub2RlQ291bnQsIG1pZGRsZVgsIG1pZGRsZVkpXHJcbiAgICAgIGRyYXdMaW5lKFxyXG4gICAgICAgIGNhbnZhcyxcclxuICAgICAgICBwb3NpdGlvbkFyclswXS5taWRkbGVYLFxyXG4gICAgICAgIHBvc2l0aW9uQXJyWzBdLm1pZGRsZVksXHJcbiAgICAgICAgcG9zaXRpb25BcnJbcG9zaXRpb25BcnIubGVuZ3RoIC0gMV0ubWlkZGxlWCxcclxuICAgICAgICBwb3NpdGlvbkFycltwb3NpdGlvbkFyci5sZW5ndGggLSAxXS5taWRkbGVZXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGRyYXdOb2RlcyhjYW52YXMsIGNoaWxkcmVuLCBwb3NpdGlvbkFycilcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIOeUu+WbvlxyXG5mdW5jdGlvbiBkcmF3VG9wb2xvZ3koY2FudmFzLCBkYXRhLCBtaWRkbGVYLCBtaWRkbGVZKSB7XHJcbiAgZHJhd1Jvb3ROb2RlKGNhbnZhcywgbWlkZGxlWCwgbWlkZGxlWSlcclxuICBkcmF3Tm9kZXMoY2FudmFzLCBbZGF0YV0sIFt7IG1pZGRsZVgsIG1pZGRsZVk6IG1pZGRsZVkgKyAyNDEgfV0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0RmFicmljKGNhbnZhcywgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZGF0YSwgY2FsbGJhY2spIHtcclxuICBpZiAoIWNhbnZhcykge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIC8vIOmHjee9ruS4iuS4gOasoeeahGNhbnZhc1xyXG4gIGNhbnZhcy5vZmYoJ21vdXNlOmRvd24nKVxyXG4gIGNhbnZhcy5vZmYoJ21vdXNlOndoZWVsJylcclxuICBjYW52YXMub2ZmKCdtb3VzZTptb3ZlJylcclxuICBjYW52YXMub2ZmKCdtb3VzZTp1cCcpXHJcbiAgY2FudmFzLmNsZWFyKClcclxuICBjYW52YXMuc2V0Vmlld3BvcnRUcmFuc2Zvcm0oWzEsIDAsIDAsIDEsIDAsIDBdKVxyXG5cclxuICBjYW52YXMuc2V0V2lkdGgoY2FudmFzV2lkdGgpXHJcbiAgY2FudmFzLnNldEhlaWdodChjYW52YXNIZWlnaHQpXHJcblxyXG4gIGNvbnN0IGNvdW50ID0gZ2V0TW9uaXRvckNvdW50KGRhdGEpXHJcbiAgLy8g5qCR55qE55yf5a6e5a695bqmXHJcbiAgY29uc3QgcmVhbFdpZHRoID0gY291bnQgKiAoTEVBRl9XSURUSCArIExFQUZfU1BFUkFURSkgLSBMRUFGX1NQRVJBVEVcclxuICAvLyDph43mlrDorr7nva7lrr3luqZcclxuICBpZiAocmVhbFdpZHRoID4gY2FudmFzV2lkdGgpIHtcclxuICAgIGNvbnN0IG1pZGRsZVggPSByZWFsV2lkdGggLyAyXHJcbiAgICBjb25zdCBtaWRkbGVZID0gMFxyXG4gICAgZHJhd1RvcG9sb2d5KGNhbnZhcywgZGF0YSwgbWlkZGxlWCwgbWlkZGxlWSlcclxuICAgIGNhbnZhcy5zZXRab29tKGNhbnZhc1dpZHRoIC8gcmVhbFdpZHRoKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBtaWRkbGVYID0gY2FudmFzV2lkdGggLyAyXHJcbiAgICBjb25zdCBtaWRkbGVZID0gMFxyXG4gICAgZHJhd1RvcG9sb2d5KGNhbnZhcywgZGF0YSwgbWlkZGxlWCwgbWlkZGxlWSlcclxuICAgIGNhbnZhcy5zZXRab29tKDEpXHJcbiAgfVxyXG5cclxuICBsZXQgcGFubmluZyA9IGZhbHNlXHJcbiAgY2FudmFzLm9uKCdtb3VzZTpkb3duJywgKG9wdCkgPT4ge1xyXG4gICAgcGFubmluZyA9IHRydWVcclxuICAgIGNhbnZhcy5zZWxlY3Rpb24gPSBmYWxzZVxyXG4gICAgaWYgKG9wdC50YXJnZXQgJiYgb3B0LnRhcmdldC5uYW1lID09PSAnY2xpY2tCdG4nKSB7XHJcbiAgICAgIGNhbGxiYWNrKG9wdC50YXJnZXQuaWQpXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgY2FudmFzLm9uKCdtb3VzZTp1cCcsICgpID0+IHtcclxuICAgIHBhbm5pbmcgPSBmYWxzZVxyXG4gICAgY2FudmFzLnNlbGVjdGlvbiA9IHRydWVcclxuICB9KVxyXG5cclxuICBjYW52YXMub24oJ21vdXNlOm1vdmUnLCAob3B0KSA9PiB7XHJcbiAgICBpZiAocGFubmluZyAmJiBvcHQgJiYgb3B0LmUpIHtcclxuICAgICAgY29uc3QgZGVsdGEgPSBuZXcgZmFicmljLlBvaW50KG9wdC5lLm1vdmVtZW50WCwgb3B0LmUubW92ZW1lbnRZKVxyXG4gICAgICBjYW52YXMucmVsYXRpdmVQYW4oZGVsdGEpXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgY2FudmFzLm9uKCdtb3VzZTp3aGVlbCcsIChvcHQpID0+IHtcclxuICAgIGNvbnN0IGRlbHRhID0gb3B0LmUuZGVsdGFZXHJcbiAgICBsZXQgem9vbSA9IGNhbnZhcy5nZXRab29tKClcclxuICAgIHpvb20gKj0gMC45OTkgKiogZGVsdGFcclxuICAgIGlmICh6b29tID4gMjApIHpvb20gPSAyMFxyXG4gICAgaWYgKHpvb20gPCAwLjAxKSB6b29tID0gMC4wMVxyXG4gICAgY2FudmFzLnpvb21Ub1BvaW50KFxyXG4gICAgICB7XHJcbiAgICAgICAgeDogb3B0LmUub2Zmc2V0WCxcclxuICAgICAgICB5OiBvcHQuZS5vZmZzZXRZLFxyXG4gICAgICB9LFxyXG4gICAgICB6b29tXHJcbiAgICApXHJcbiAgICBvcHQuZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBvcHQuZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gIH0pXHJcbn1cclxuIiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IGZhYnJpYyB9IGZyb20gJ2ZhYnJpYydcclxuXHJcbmltcG9ydCB7IGluaXRGYWJyaWMgfSBmcm9tICcuL2ZhYnJpY0RyYXcnXHJcblxyXG5leHBvcnQgY29uc3QgZGVib3VuY2UgPSAoZm4sIGRlbGF5ID0gNTAwKSA9PiB7XHJcbiAgbGV0IHRpbWVyXHJcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XHJcbiAgICBpZiAodGltZXIpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxyXG4gICAgfVxyXG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZm4uYXBwbHkodGhpcywgYXJncylcclxuICAgIH0sIGRlbGF5KVxyXG4gIH1cclxufVxyXG5cclxubGV0IHRhcmdldFxyXG5sZXQgZmFicmljQ2FudmFzXHJcbmxldCBkYXRhXHJcbmxldCBjYlxyXG5cclxuZnVuY3Rpb24gcmVzaXplKCkge1xyXG4gIGlmICghdGFyZ2V0LmZpcnN0Q2hpbGQpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuICB0YXJnZXQuZmlyc3RDaGlsZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgY29uc3QgeyBjbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0IH0gPSB0YXJnZXRcclxuICBpbml0RmFicmljKGZhYnJpY0NhbnZhcywgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCAtIDQsIGRhdGEsIGNiKVxyXG4gIHRhcmdldC5maXJzdENoaWxkLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGFydENvbmZpZyhyb290LCBhamF4RGF0YSwgY2FsbGJhY2spIHtcclxuICBpZiAoIXJvb3QgfHwgIWFqYXhEYXRhKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbiAgZGF0YSA9IGFqYXhEYXRhXHJcbiAgdGFyZ2V0ID0gcm9vdFxyXG4gIGNiID0gY2FsbGJhY2tcclxuXHJcbiAgaWYgKCFmYWJyaWNDYW52YXMpIHtcclxuICAgIGNvbnN0IGNyZWF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBjb25zdCBjcmVhdGVDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxyXG4gICAgY3JlYXRlRGl2LmFwcGVuZChjcmVhdGVDYW52YXMpXHJcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KVxyXG4gICAgZmFicmljQ2FudmFzID0gbmV3IGZhYnJpYy5DYW52YXMoY3JlYXRlQ2FudmFzKVxyXG4gIH1cclxuXHJcbiAgcmVzaXplKClcclxuICByZXR1cm4gZmFicmljQ2FudmFzXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VDaGFydCgpIHtcclxuICBjb25zdCBkZWJvdW5jZVJlc2l6ZSA9IGRlYm91bmNlKHJlc2l6ZSwgMjAwKVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VSZXNpemUpXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VSZXNpemUpXHJcbiAgICAgIHRhcmdldCA9IG51bGxcclxuICAgICAgZmFicmljQ2FudmFzID0gbnVsbFxyXG4gICAgICBkYXRhID0gbnVsbFxyXG4gICAgICBjYiA9IG51bGxcclxuICAgIH1cclxuICB9LCBbXSlcclxufVxyXG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdhbnRkJ1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlUmFuZG9tVHJlZSB9IGZyb20gJy4vZGF0YSdcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5sZXNzJ1xyXG5pbXBvcnQgeyBjaGFydENvbmZpZywgdXNlQ2hhcnQgfSBmcm9tICcuL3VzZUNoYXJ0J1xyXG5cclxuZnVuY3Rpb24gQXBwKCkge1xyXG4gIGNvbnN0IHJvb3RSZWYgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgdXNlQ2hhcnQoKVxyXG5cclxuICBjb25zdCByZW5kZXJEYXRhID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IGNyZWF0ZVJhbmRvbVRyZWUoKVxyXG4gICAgY2hhcnRDb25maWcocm9vdFJlZi5jdXJyZW50LCBkYXRhLCAoaWQpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ+eCueWHu+S6hmlkJywgaWQpXHJcbiAgICB9KVxyXG4gIH1cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHJlbmRlckRhdGEoKVxyXG4gICAgfSwgMjAwKVxyXG4gIH0sIFtdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ib3h9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlcn0+XHJcbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtyZW5kZXJEYXRhfSB0eXBlPVwicHJpbWFyeVwiPlxyXG4gICAgICAgICAg54K55Ye754K55Ye7XHJcbiAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRlbnR9IHJlZj17cm9vdFJlZn0gLz5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBwXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///93029\n")}}]);