"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[848],{90848:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96540);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3676);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(74848);\n\n\n\nfunction Component() {\n  var canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var fabricCanvas = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var draw = function draw(canvas) {\n    var rect1 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 20,\n      fill: 'pink',\n      width: 80,\n      height: 60,\n      rx: 10 // 只设置了rx，那么ry的值也是10\n    });\n    var rect2 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 120,\n      fill: 'orange',\n      width: 80,\n      height: 60,\n      rx: 10,\n      ry: 20\n    });\n    var rect3 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 220,\n      fill: 'skyblue',\n      width: 80,\n      height: 60,\n      rx: 30,\n      // rx 和 ry 的值是 height 的一半，此时 height 比 width 小\n      ry: 30\n    });\n    var rect4 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 320,\n      fill: 'lightgreen',\n      width: 80,\n      height: 60,\n      rx: 40,\n      // rx 和 ry 的值是 width 的一半，此时 width 比 height 大\n      ry: 40\n    });\n    var rect5 = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Rect({\n      top: 20,\n      left: 420,\n      fill: 'purple',\n      width: 60,\n      height: 60,\n      rx: 30,\n      // 如果 width 和 height 一样（正方形），而 rx 和 ry 都是 width 和 height 的一半，那此时显示的是圆形\n      ry: 30\n    });\n    canvas.add(rect1, rect2, rect3, rect4, rect5);\n  };\n  var init = function init(canvas) {\n    if (!canvas) {\n      return;\n    }\n    // 重置上一次的canvas\n    canvas.off('mouse:down');\n    canvas.off('mouse:wheel');\n    canvas.off('mouse:move');\n    canvas.off('mouse:up');\n    canvas.clear();\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n    draw(canvas);\n    canvas.on('mouse:wheel', function (opt) {\n      var delta = opt.e.deltaY; // 滚轮，向上滚一下是 -100，向下滚一下是 100\n      var zoom = canvas.getZoom(); // 获取画布当前缩放值\n      zoom *= Math.pow(0.999, delta);\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n\n      // 以左上角为原点\n      canvas.setZoom(zoom);\n\n      // 以鼠标所在位置为原点缩放\n      // canvas.zoomToPoint(\n      //   {\n      //     x: opt.e.offsetX,\n      //     y: opt.e.offsetY,\n      //   },\n      //   zoom\n      // )\n      opt.e.preventDefault();\n      opt.e.stopPropagation();\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var w = document.documentElement.clientWidth;\n    var h = document.documentElement.clientHeight;\n    canvasRef.current.width = w;\n    canvasRef.current.height = h;\n    fabricCanvas.current = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Canvas(canvasRef.current);\n    init(fabricCanvas.current);\n    return function () {\n      fabricCanvas.current = null;\n    };\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", {\n      ref: canvasRef\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTA4NDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9mYWJyaWMv5Z+656GA5Zu+5b2iL+efqeW9ojguanN4P2YyM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IGZhYnJpYyB9IGZyb20gJ2ZhYnJpYydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbClcclxuICBjb25zdCBmYWJyaWNDYW52YXMgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgY29uc3QgZHJhdyA9IChjYW52YXMpID0+IHtcclxuICAgIGNvbnN0IHJlY3QxID0gbmV3IGZhYnJpYy5SZWN0KHtcclxuICAgICAgdG9wOiAyMCxcclxuICAgICAgbGVmdDogMjAsXHJcbiAgICAgIGZpbGw6ICdwaW5rJyxcclxuICAgICAgd2lkdGg6IDgwLFxyXG4gICAgICBoZWlnaHQ6IDYwLFxyXG4gICAgICByeDogMTAsIC8vIOWPquiuvue9ruS6hnJ477yM6YKj5LmIcnnnmoTlgLzkuZ/mmK8xMFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZWN0MiA9IG5ldyBmYWJyaWMuUmVjdCh7XHJcbiAgICAgIHRvcDogMjAsXHJcbiAgICAgIGxlZnQ6IDEyMCxcclxuICAgICAgZmlsbDogJ29yYW5nZScsXHJcbiAgICAgIHdpZHRoOiA4MCxcclxuICAgICAgaGVpZ2h0OiA2MCxcclxuICAgICAgcng6IDEwLFxyXG4gICAgICByeTogMjAsXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHJlY3QzID0gbmV3IGZhYnJpYy5SZWN0KHtcclxuICAgICAgdG9wOiAyMCxcclxuICAgICAgbGVmdDogMjIwLFxyXG4gICAgICBmaWxsOiAnc2t5Ymx1ZScsXHJcbiAgICAgIHdpZHRoOiA4MCxcclxuICAgICAgaGVpZ2h0OiA2MCxcclxuICAgICAgcng6IDMwLCAvLyByeCDlkowgcnkg55qE5YC85pivIGhlaWdodCDnmoTkuIDljYrvvIzmraTml7YgaGVpZ2h0IOavlCB3aWR0aCDlsI9cclxuICAgICAgcnk6IDMwLFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZWN0NCA9IG5ldyBmYWJyaWMuUmVjdCh7XHJcbiAgICAgIHRvcDogMjAsXHJcbiAgICAgIGxlZnQ6IDMyMCxcclxuICAgICAgZmlsbDogJ2xpZ2h0Z3JlZW4nLFxyXG4gICAgICB3aWR0aDogODAsXHJcbiAgICAgIGhlaWdodDogNjAsXHJcbiAgICAgIHJ4OiA0MCwgLy8gcngg5ZKMIHJ5IOeahOWAvOaYryB3aWR0aCDnmoTkuIDljYrvvIzmraTml7Ygd2lkdGgg5q+UIGhlaWdodCDlpKdcclxuICAgICAgcnk6IDQwLFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZWN0NSA9IG5ldyBmYWJyaWMuUmVjdCh7XHJcbiAgICAgIHRvcDogMjAsXHJcbiAgICAgIGxlZnQ6IDQyMCxcclxuICAgICAgZmlsbDogJ3B1cnBsZScsXHJcbiAgICAgIHdpZHRoOiA2MCxcclxuICAgICAgaGVpZ2h0OiA2MCxcclxuICAgICAgcng6IDMwLCAvLyDlpoLmnpwgd2lkdGgg5ZKMIGhlaWdodCDkuIDmoLfvvIjmraPmlrnlvaLvvInvvIzogIwgcngg5ZKMIHJ5IOmDveaYryB3aWR0aCDlkowgaGVpZ2h0IOeahOS4gOWNiu+8jOmCo+atpOaXtuaYvuekuueahOaYr+WchuW9olxyXG4gICAgICByeTogMzAsXHJcbiAgICB9KVxyXG5cclxuICAgIGNhbnZhcy5hZGQocmVjdDEsIHJlY3QyLCByZWN0MywgcmVjdDQsIHJlY3Q1KVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaW5pdCA9IChjYW52YXMpID0+IHtcclxuICAgIGlmICghY2FudmFzKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8g6YeN572u5LiK5LiA5qyh55qEY2FudmFzXHJcbiAgICBjYW52YXMub2ZmKCdtb3VzZTpkb3duJylcclxuICAgIGNhbnZhcy5vZmYoJ21vdXNlOndoZWVsJylcclxuICAgIGNhbnZhcy5vZmYoJ21vdXNlOm1vdmUnKVxyXG4gICAgY2FudmFzLm9mZignbW91c2U6dXAnKVxyXG4gICAgY2FudmFzLmNsZWFyKClcclxuICAgIGNhbnZhcy5zZXRWaWV3cG9ydFRyYW5zZm9ybShbMSwgMCwgMCwgMSwgMCwgMF0pXHJcblxyXG4gICAgZHJhdyhjYW52YXMpXHJcblxyXG4gICAgY2FudmFzLm9uKCdtb3VzZTp3aGVlbCcsIChvcHQpID0+IHtcclxuICAgICAgY29uc3QgZGVsdGEgPSBvcHQuZS5kZWx0YVkgLy8g5rua6L2u77yM5ZCR5LiK5rua5LiA5LiL5pivIC0xMDDvvIzlkJHkuIvmu5rkuIDkuIvmmK8gMTAwXHJcbiAgICAgIGxldCB6b29tID0gY2FudmFzLmdldFpvb20oKSAvLyDojrflj5bnlLvluIPlvZPliY3nvKnmlL7lgLxcclxuICAgICAgem9vbSAqPSAwLjk5OSAqKiBkZWx0YVxyXG4gICAgICBpZiAoem9vbSA+IDIwKSB6b29tID0gMjBcclxuICAgICAgaWYgKHpvb20gPCAwLjAxKSB6b29tID0gMC4wMVxyXG5cclxuICAgICAgLy8g5Lul5bem5LiK6KeS5Li65Y6f54K5XHJcbiAgICAgIGNhbnZhcy5zZXRab29tKHpvb20pXHJcblxyXG4gICAgICAvLyDku6XpvKDmoIfmiYDlnKjkvY3nva7kuLrljp/ngrnnvKnmlL5cclxuICAgICAgLy8gY2FudmFzLnpvb21Ub1BvaW50KFxyXG4gICAgICAvLyAgIHtcclxuICAgICAgLy8gICAgIHg6IG9wdC5lLm9mZnNldFgsXHJcbiAgICAgIC8vICAgICB5OiBvcHQuZS5vZmZzZXRZLFxyXG4gICAgICAvLyAgIH0sXHJcbiAgICAgIC8vICAgem9vbVxyXG4gICAgICAvLyApXHJcbiAgICAgIG9wdC5lLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgb3B0LmUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aFxyXG4gICAgY29uc3QgaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcclxuICAgIGNhbnZhc1JlZi5jdXJyZW50LndpZHRoID0gd1xyXG4gICAgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0ID0gaFxyXG5cclxuICAgIGZhYnJpY0NhbnZhcy5jdXJyZW50ID0gbmV3IGZhYnJpYy5DYW52YXMoY2FudmFzUmVmLmN1cnJlbnQpXHJcbiAgICBpbml0KGZhYnJpY0NhbnZhcy5jdXJyZW50KVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZmFicmljQ2FudmFzLmN1cnJlbnQgPSBudWxsXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+XHJcbiAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90848\n")}}]);