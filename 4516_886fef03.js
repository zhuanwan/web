"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4516],{84516:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ Component)\n});\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(96540);\n// EXTERNAL MODULE: ./node_modules/fabric/dist/fabric.js\nvar fabric = __webpack_require__(3676);\n;// ./src/static/imgs/cat2.jpg\nconst cat2_namespaceObject = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2ODApLCBxdWFsaXR5ID0gNjUK/9sAQwALCAgKCAcLCgkKDQwLDREcEhEPDxEiGRoUHCkkKyooJCcnLTJANy0wPTAnJzhMOT1DRUhJSCs2T1VORlRAR0hF/9sAQwEMDQ0RDxEhEhIhRS4nLkVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVF/8AAEQgAMgAyAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8AxrqO4Gj/AGrHOcHFZFs5IVnAG0/nXYadd2w02S0uWXB5ArDvLKBZwUDCIsM8dvauRPQ2m0noUBNG24eWQx6CqsmnSO26QiJc7PmPNa1/pUanzLS5KZG5VfvWBcTyz5mctuzjB7/54qoO+wnoXrfT3Uh7e4RmQjAJ5zXbWGrm4txE5xOnDD/69ee2isbhI8um9huZeoGOQK6azuDFeJCiFYkG3GO5OKyrRUtHqFrxZ0/nvRVfeR3orn9nDsZ3fYtP4dsLJeZv3nrnpVC607T7ldsl8Pl7bq7TT/BtrBE6300l67HO5srgfgabc+AtDuInVYHjdhxIsjZU/icV6HIO/c4G9MVqETasqMhAciuSvSomkjC7QW6e2BXpOt+EZLLw8baOYTzQ/MjhdpI7jFcLZaZJe3IFxbskeflIUjgcEH9KytyybZondWK2kXJtlL8fMT94dP8AIrRj1V5NQgi2rneCFTH8qzL21n86XyoCYYjhiFyd2B0rpvB/h12dLq5RFRBkZ5ct6n2qXFP3ir2Vi+d2TxRXRf2dH6UVnyFc5iJqDqMLqV4v0C1J9uZx82r3n/fIrDDHrQHPJNa3ZHKjobvWJZrZII7oFFXB3R4J96xGmvUXaskZ96j8w9f50xpCOpxUvUa0Fc3bW/lhlyerZGavaRPJZD95OD7ZrMMhJyD7U1pj68UrDbudZ/a8X/PUfkaK48yc9aKYrFtRyPrTjxnFFFAEbUjAANgD/JoooAgPb6Ux+o/CiigCIE4HJooopgf/2Q==\";\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(74848);\n;// ./src/pages/fabric/图片/背景图2.jsx\n\n\n\n\nfunction Component() {\n  var canvasRef = (0,react.useRef)(null);\n  var fabricCanvas = (0,react.useRef)(null);\n  var draw = function draw(canvas) {\n    canvas.setBackgroundColor({\n      source: cat2_namespaceObject,\n      repeat: 'repeat'\n    }, canvas.renderAll.bind(canvas));\n  };\n  var init = function init(canvas) {\n    if (!canvas) {\n      return;\n    }\n    // 重置上一次的canvas\n    canvas.off('mouse:down');\n    canvas.off('mouse:wheel');\n    canvas.off('mouse:move');\n    canvas.off('mouse:up');\n    canvas.clear();\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n    draw(canvas);\n    canvas.on('mouse:wheel', function (opt) {\n      var delta = opt.e.deltaY; // 滚轮，向上滚一下是 -100，向下滚一下是 100\n      var zoom = canvas.getZoom(); // 获取画布当前缩放值\n      zoom *= Math.pow(0.999, delta);\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n\n      // 以左上角为原点\n      canvas.setZoom(zoom);\n\n      // 以鼠标所在位置为原点缩放\n      // canvas.zoomToPoint(\n      //   {\n      //     x: opt.e.offsetX,\n      //     y: opt.e.offsetY,\n      //   },\n      //   zoom\n      // )\n      opt.e.preventDefault();\n      opt.e.stopPropagation();\n    });\n  };\n  (0,react.useEffect)(function () {\n    var w = document.documentElement.clientWidth;\n    var h = document.documentElement.clientHeight;\n    canvasRef.current.width = w;\n    canvasRef.current.height = h;\n    fabricCanvas.current = new fabric.fabric.Canvas(canvasRef.current);\n    init(fabricCanvas.current);\n    return function () {\n      fabricCanvas.current = null;\n    };\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"canvas\", {\n      ref: canvasRef\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ1MTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvcGFnZXMvZmFicmljL+WbvueJhy/og4zmma/lm74yLmpzeD81NjU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnXHJcblxyXG5pbXBvcnQgY2F0MkltZyBmcm9tICdAL3N0YXRpYy9pbWdzL2NhdDIuanBnJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tcG9uZW50KCkge1xyXG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKVxyXG4gIGNvbnN0IGZhYnJpY0NhbnZhcyA9IHVzZVJlZihudWxsKVxyXG5cclxuICBjb25zdCBkcmF3ID0gKGNhbnZhcykgPT4ge1xyXG4gICAgY2FudmFzLnNldEJhY2tncm91bmRDb2xvcihcclxuICAgICAge1xyXG4gICAgICAgIHNvdXJjZTogY2F0MkltZyxcclxuICAgICAgICByZXBlYXQ6ICdyZXBlYXQnLFxyXG4gICAgICB9LFxyXG4gICAgICBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaW5pdCA9IChjYW52YXMpID0+IHtcclxuICAgIGlmICghY2FudmFzKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8g6YeN572u5LiK5LiA5qyh55qEY2FudmFzXHJcbiAgICBjYW52YXMub2ZmKCdtb3VzZTpkb3duJylcclxuICAgIGNhbnZhcy5vZmYoJ21vdXNlOndoZWVsJylcclxuICAgIGNhbnZhcy5vZmYoJ21vdXNlOm1vdmUnKVxyXG4gICAgY2FudmFzLm9mZignbW91c2U6dXAnKVxyXG4gICAgY2FudmFzLmNsZWFyKClcclxuICAgIGNhbnZhcy5zZXRWaWV3cG9ydFRyYW5zZm9ybShbMSwgMCwgMCwgMSwgMCwgMF0pXHJcblxyXG4gICAgZHJhdyhjYW52YXMpXHJcblxyXG4gICAgY2FudmFzLm9uKCdtb3VzZTp3aGVlbCcsIChvcHQpID0+IHtcclxuICAgICAgY29uc3QgZGVsdGEgPSBvcHQuZS5kZWx0YVkgLy8g5rua6L2u77yM5ZCR5LiK5rua5LiA5LiL5pivIC0xMDDvvIzlkJHkuIvmu5rkuIDkuIvmmK8gMTAwXHJcbiAgICAgIGxldCB6b29tID0gY2FudmFzLmdldFpvb20oKSAvLyDojrflj5bnlLvluIPlvZPliY3nvKnmlL7lgLxcclxuICAgICAgem9vbSAqPSAwLjk5OSAqKiBkZWx0YVxyXG4gICAgICBpZiAoem9vbSA+IDIwKSB6b29tID0gMjBcclxuICAgICAgaWYgKHpvb20gPCAwLjAxKSB6b29tID0gMC4wMVxyXG5cclxuICAgICAgLy8g5Lul5bem5LiK6KeS5Li65Y6f54K5XHJcbiAgICAgIGNhbnZhcy5zZXRab29tKHpvb20pXHJcblxyXG4gICAgICAvLyDku6XpvKDmoIfmiYDlnKjkvY3nva7kuLrljp/ngrnnvKnmlL5cclxuICAgICAgLy8gY2FudmFzLnpvb21Ub1BvaW50KFxyXG4gICAgICAvLyAgIHtcclxuICAgICAgLy8gICAgIHg6IG9wdC5lLm9mZnNldFgsXHJcbiAgICAgIC8vICAgICB5OiBvcHQuZS5vZmZzZXRZLFxyXG4gICAgICAvLyAgIH0sXHJcbiAgICAgIC8vICAgem9vbVxyXG4gICAgICAvLyApXHJcbiAgICAgIG9wdC5lLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgb3B0LmUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aFxyXG4gICAgY29uc3QgaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcclxuICAgIGNhbnZhc1JlZi5jdXJyZW50LndpZHRoID0gd1xyXG4gICAgY2FudmFzUmVmLmN1cnJlbnQuaGVpZ2h0ID0gaFxyXG5cclxuICAgIGZhYnJpY0NhbnZhcy5jdXJyZW50ID0gbmV3IGZhYnJpYy5DYW52YXMoY2FudmFzUmVmLmN1cnJlbnQpXHJcbiAgICBpbml0KGZhYnJpY0NhbnZhcy5jdXJyZW50KVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZmFicmljQ2FudmFzLmN1cnJlbnQgPSBudWxsXHJcbiAgICB9XHJcbiAgfSwgW10pXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+XHJcbiAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///84516\n")}}]);