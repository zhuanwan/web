"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4699],{4699:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50113);\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26099);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(96540);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24922);\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27721);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(74848);\n\n\n// 光线-阴影\n\n\n\n\nfunction Component() {\n  var canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var rendererRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var cameraRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var sceneRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  var createObject = function createObject() {\n    var _sceneRef$current$chi;\n    // 1. 首先开启渲染器的阴影\n    rendererRef.current.shadowMap.enabled = true;\n\n    // 2. 添加环境光（让场景不会完全黑暗）\n    var ambientLight = new three__WEBPACK_IMPORTED_MODULE_5__/* .AmbientLight */ .$p8(0x404040);\n    sceneRef.current.add(ambientLight);\n\n    // 创建一个地面（只接收阴影）\n    var ground = new three__WEBPACK_IMPORTED_MODULE_5__/* .Mesh */ .eaF(new three__WEBPACK_IMPORTED_MODULE_5__/* .PlaneGeometry */ .bdM(10, 10), new three__WEBPACK_IMPORTED_MODULE_5__/* .MeshStandardMaterial */ ._4j({\n      color: 0x886286\n    }));\n    ground.rotation.x = -Math.PI / 2;\n    ground.position.y = -2; // 降低地面位置，确保其他物体在其上方\n    ground.castShadow = false; // 地面不投射阴影\n    ground.receiveShadow = true; // 地面接收阴影\n    sceneRef.current.add(ground);\n\n    // 创建一个悬浮的球体（只投射阴影）\n    var sphere = new three__WEBPACK_IMPORTED_MODULE_5__/* .Mesh */ .eaF(new three__WEBPACK_IMPORTED_MODULE_5__/* .SphereGeometry */ .Gu$(1, 32, 32), new three__WEBPACK_IMPORTED_MODULE_5__/* .MeshStandardMaterial */ ._4j({\n      color: 0xff0000\n    }));\n    sphere.position.y = 2;\n    sphere.castShadow = true; // 球体投射阴影\n    sphere.receiveShadow = false; // 球体不接收阴影\n    sceneRef.current.add(sphere);\n\n    // 创建一个盒子（既投射又接收阴影）\n    var box = new three__WEBPACK_IMPORTED_MODULE_5__/* .Mesh */ .eaF(new three__WEBPACK_IMPORTED_MODULE_5__/* .BoxGeometry */ .iNn(1, 1, 1), new three__WEBPACK_IMPORTED_MODULE_5__/* .MeshStandardMaterial */ ._4j({\n      color: 0x00ff00\n    }));\n    box.position.x = -2;\n    box.castShadow = true; // 盒子投射阴影\n    box.receiveShadow = true; // 盒子也接收阴影\n    sceneRef.current.add(box);\n    var light = (_sceneRef$current$chi = sceneRef.current.children) == null ? void 0 : _sceneRef$current$chi.find(function (child) {\n      return child.type === 'DirectionalLight';\n    });\n    // 2. 光源开启阴影\n    if (light) {\n      light.castShadow = true;\n    }\n  };\n\n  // 8. 添加动画循环以持续渲染\n  var _animate = function animate() {\n    if (rendererRef.current && sceneRef.current && cameraRef.current) {\n      rendererRef.current.render(sceneRef.current, cameraRef.current);\n    }\n    requestAnimationFrame(_animate);\n  };\n\n  // 初始化 Three.js\n  (0,_util__WEBPACK_IMPORTED_MODULE_3__/* .useThreeInit */ .M)({\n    canvasRef: canvasRef,\n    rendererRef: rendererRef,\n    cameraRef: cameraRef,\n    sceneRef: sceneRef\n  });\n\n  // resize handler\n  (0,_util__WEBPACK_IMPORTED_MODULE_3__/* .useResizeHandler */ .Y)({\n    rendererRef: rendererRef,\n    cameraRef: cameraRef,\n    sceneRef: sceneRef\n  });\n\n  // 创建线条\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    createObject();\n    _animate();\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        width: '100vw',\n        height: '100vh',\n        display: 'block'\n      }\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY5OS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy90aHJlZS9saWdodC5qc3g/NDM5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDlhYnnur8t6Zi05b2xXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcclxuXHJcbmltcG9ydCB7IHVzZVJlc2l6ZUhhbmRsZXIsIHVzZVRocmVlSW5pdCB9IGZyb20gJy4vdXRpbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgY29uc3QgcmVuZGVyZXJSZWYgPSB1c2VSZWYobnVsbClcclxuICBjb25zdCBjYW1lcmFSZWYgPSB1c2VSZWYobnVsbClcclxuICBjb25zdCBzY2VuZVJlZiA9IHVzZVJlZihudWxsKVxyXG5cclxuICBjb25zdCBjcmVhdGVPYmplY3QgPSAoKSA9PiB7XHJcbiAgICAvLyAxLiDpppblhYjlvIDlkK/muLLmn5PlmajnmoTpmLTlvbFcclxuICAgIHJlbmRlcmVyUmVmLmN1cnJlbnQuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlXHJcblxyXG4gICAgLy8gMi4g5re75Yqg546v5aKD5YWJ77yI6K6p5Zy65pmv5LiN5Lya5a6M5YWo6buR5pqX77yJXHJcbiAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NDA0MDQwKVxyXG4gICAgc2NlbmVSZWYuY3VycmVudC5hZGQoYW1iaWVudExpZ2h0KVxyXG5cclxuICAgIC8vIOWIm+W7uuS4gOS4quWcsOmdou+8iOWPquaOpeaUtumYtOW9se+8iVxyXG4gICAgY29uc3QgZ3JvdW5kID0gbmV3IFRIUkVFLk1lc2goXHJcbiAgICAgIG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEwLCAxMCksXHJcbiAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XHJcbiAgICAgICAgY29sb3I6IDB4ODg2Mjg2LFxyXG4gICAgICB9KVxyXG4gICAgKVxyXG4gICAgZ3JvdW5kLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDJcclxuICAgIGdyb3VuZC5wb3NpdGlvbi55ID0gLTIgLy8g6ZmN5L2O5Zyw6Z2i5L2N572u77yM56Gu5L+d5YW25LuW54mp5L2T5Zyo5YW25LiK5pa5XHJcbiAgICBncm91bmQuY2FzdFNoYWRvdyA9IGZhbHNlIC8vIOWcsOmdouS4jeaKleWwhOmYtOW9sVxyXG4gICAgZ3JvdW5kLnJlY2VpdmVTaGFkb3cgPSB0cnVlIC8vIOWcsOmdouaOpeaUtumYtOW9sVxyXG4gICAgc2NlbmVSZWYuY3VycmVudC5hZGQoZ3JvdW5kKVxyXG5cclxuICAgIC8vIOWIm+W7uuS4gOS4quaCrOa1rueahOeQg+S9k++8iOWPquaKleWwhOmYtOW9se+8iVxyXG4gICAgY29uc3Qgc3BoZXJlID0gbmV3IFRIUkVFLk1lc2goXHJcbiAgICAgIG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgxLCAzMiwgMzIpLFxyXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjAwMDAgfSlcclxuICAgIClcclxuICAgIHNwaGVyZS5wb3NpdGlvbi55ID0gMlxyXG4gICAgc3BoZXJlLmNhc3RTaGFkb3cgPSB0cnVlIC8vIOeQg+S9k+aKleWwhOmYtOW9sVxyXG4gICAgc3BoZXJlLnJlY2VpdmVTaGFkb3cgPSBmYWxzZSAvLyDnkIPkvZPkuI3mjqXmlLbpmLTlvbFcclxuICAgIHNjZW5lUmVmLmN1cnJlbnQuYWRkKHNwaGVyZSlcclxuXHJcbiAgICAvLyDliJvlu7rkuIDkuKrnm5LlrZDvvIjml6LmipXlsITlj4jmjqXmlLbpmLTlvbHvvIlcclxuICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKSwgbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4MDBmZjAwIH0pKVxyXG4gICAgYm94LnBvc2l0aW9uLnggPSAtMlxyXG4gICAgYm94LmNhc3RTaGFkb3cgPSB0cnVlIC8vIOebkuWtkOaKleWwhOmYtOW9sVxyXG4gICAgYm94LnJlY2VpdmVTaGFkb3cgPSB0cnVlIC8vIOebkuWtkOS5n+aOpeaUtumYtOW9sVxyXG4gICAgc2NlbmVSZWYuY3VycmVudC5hZGQoYm94KVxyXG5cclxuICAgIGNvbnN0IGxpZ2h0ID0gc2NlbmVSZWYuY3VycmVudC5jaGlsZHJlbj8uZmluZCgoY2hpbGQpID0+IGNoaWxkLnR5cGUgPT09ICdEaXJlY3Rpb25hbExpZ2h0JylcclxuICAgIC8vIDIuIOWFiea6kOW8gOWQr+mYtOW9sVxyXG4gICAgaWYgKGxpZ2h0KSB7XHJcbiAgICAgIGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA4LiDmt7vliqDliqjnlLvlvqrnjq/ku6XmjIHnu63muLLmn5NcclxuICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKHJlbmRlcmVyUmVmLmN1cnJlbnQgJiYgc2NlbmVSZWYuY3VycmVudCAmJiBjYW1lcmFSZWYuY3VycmVudCkge1xyXG4gICAgICByZW5kZXJlclJlZi5jdXJyZW50LnJlbmRlcihzY2VuZVJlZi5jdXJyZW50LCBjYW1lcmFSZWYuY3VycmVudClcclxuICAgIH1cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKVxyXG4gIH1cclxuXHJcbiAgLy8g5Yid5aeL5YyWIFRocmVlLmpzXHJcbiAgdXNlVGhyZWVJbml0KHsgY2FudmFzUmVmLCByZW5kZXJlclJlZiwgY2FtZXJhUmVmLCBzY2VuZVJlZiB9KVxyXG5cclxuICAvLyByZXNpemUgaGFuZGxlclxyXG4gIHVzZVJlc2l6ZUhhbmRsZXIoeyByZW5kZXJlclJlZiwgY2FtZXJhUmVmLCBzY2VuZVJlZiB9KVxyXG5cclxuICAvLyDliJvlu7rnur/mnaFcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY3JlYXRlT2JqZWN0KClcclxuICAgIGFuaW1hdGUoKVxyXG4gIH0sIFtdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gc3R5bGU9e3sgd2lkdGg6ICcxMDB2dycsIGhlaWdodDogJzEwMHZoJywgZGlzcGxheTogJ2Jsb2NrJyB9fSAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4699\n")}}]);