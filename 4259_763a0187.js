"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4259],{74259:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96540);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3676);\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(74848);\n\n\n\nfunction Component() {\n  var canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var fabricCanvas = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var draw = function draw(canvas) {\n    // 多边形\n    var polygon = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Polygon([{\n      x: 30,\n      y: 30\n    }, {\n      x: 150,\n      y: 100\n    }, {\n      x: 80,\n      y: 100\n    }, {\n      x: 100,\n      y: 30\n    }], {\n      fill: '#ffd3b6',\n      // 填充色\n      stroke: '#6639a6',\n      // 线段颜色：紫色\n      strokeWidth: 5 // 线段粗细 5\n    });\n\n    // 将多边形添加到画布中\n    canvas.add(polygon);\n  };\n  var init = function init(canvas) {\n    if (!canvas) {\n      return;\n    }\n    // 重置上一次的canvas\n    canvas.off('mouse:down');\n    canvas.off('mouse:wheel');\n    canvas.off('mouse:move');\n    canvas.off('mouse:up');\n    canvas.clear();\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n    draw(canvas);\n    canvas.on('mouse:wheel', function (opt) {\n      var delta = opt.e.deltaY; // 滚轮，向上滚一下是 -100，向下滚一下是 100\n      var zoom = canvas.getZoom(); // 获取画布当前缩放值\n      zoom *= Math.pow(0.999, delta);\n      if (zoom > 20) zoom = 20;\n      if (zoom < 0.01) zoom = 0.01;\n\n      // 以左上角为原点\n      canvas.setZoom(zoom);\n\n      // 以鼠标所在位置为原点缩放\n      // canvas.zoomToPoint(\n      //   {\n      //     x: opt.e.offsetX,\n      //     y: opt.e.offsetY,\n      //   },\n      //   zoom\n      // )\n      opt.e.preventDefault();\n      opt.e.stopPropagation();\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var w = document.documentElement.clientWidth;\n    var h = document.documentElement.clientHeight;\n    canvasRef.current.width = w;\n    canvasRef.current.height = h;\n    fabricCanvas.current = new fabric__WEBPACK_IMPORTED_MODULE_1__.fabric.Canvas(canvasRef.current);\n    init(fabricCanvas.current);\n    return function () {\n      fabricCanvas.current = null;\n    };\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", {\n      ref: canvasRef\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQyNTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL3NyYy9wYWdlcy9mYWJyaWMv5Z+656GA5Zu+5b2iL+Wkmui+ueW9ojEuanN4P2MyYTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IGZhYnJpYyB9IGZyb20gJ2ZhYnJpYydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcclxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbClcclxuICBjb25zdCBmYWJyaWNDYW52YXMgPSB1c2VSZWYobnVsbClcclxuXHJcbiAgY29uc3QgZHJhdyA9IChjYW52YXMpID0+IHtcclxuICAgIC8vIOWkmui+ueW9olxyXG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihcclxuICAgICAgW1xyXG4gICAgICAgIHsgeDogMzAsIHk6IDMwIH0sXHJcbiAgICAgICAgeyB4OiAxNTAsIHk6IDEwMCB9LFxyXG4gICAgICAgIHsgeDogODAsIHk6IDEwMCB9LFxyXG4gICAgICAgIHsgeDogMTAwLCB5OiAzMCB9LFxyXG4gICAgICBdLFxyXG4gICAgICB7XHJcbiAgICAgICAgZmlsbDogJyNmZmQzYjYnLCAvLyDloavlhYXoibJcclxuICAgICAgICBzdHJva2U6ICcjNjYzOWE2JywgLy8g57q/5q616aKc6Imy77ya57Sr6ImyXHJcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDUsIC8vIOe6v+auteeyl+e7hiA1XHJcbiAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICAvLyDlsIblpJrovrnlvaLmt7vliqDliLDnlLvluIPkuK1cclxuICAgIGNhbnZhcy5hZGQocG9seWdvbilcclxuICB9XHJcblxyXG4gIGNvbnN0IGluaXQgPSAoY2FudmFzKSA9PiB7XHJcbiAgICBpZiAoIWNhbnZhcykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIC8vIOmHjee9ruS4iuS4gOasoeeahGNhbnZhc1xyXG4gICAgY2FudmFzLm9mZignbW91c2U6ZG93bicpXHJcbiAgICBjYW52YXMub2ZmKCdtb3VzZTp3aGVlbCcpXHJcbiAgICBjYW52YXMub2ZmKCdtb3VzZTptb3ZlJylcclxuICAgIGNhbnZhcy5vZmYoJ21vdXNlOnVwJylcclxuICAgIGNhbnZhcy5jbGVhcigpXHJcbiAgICBjYW52YXMuc2V0Vmlld3BvcnRUcmFuc2Zvcm0oWzEsIDAsIDAsIDEsIDAsIDBdKVxyXG5cclxuICAgIGRyYXcoY2FudmFzKVxyXG5cclxuICAgIGNhbnZhcy5vbignbW91c2U6d2hlZWwnLCAob3B0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlbHRhID0gb3B0LmUuZGVsdGFZIC8vIOa7mui9ru+8jOWQkeS4iua7muS4gOS4i+aYryAtMTAw77yM5ZCR5LiL5rua5LiA5LiL5pivIDEwMFxyXG4gICAgICBsZXQgem9vbSA9IGNhbnZhcy5nZXRab29tKCkgLy8g6I635Y+W55S75biD5b2T5YmN57yp5pS+5YC8XHJcbiAgICAgIHpvb20gKj0gMC45OTkgKiogZGVsdGFcclxuICAgICAgaWYgKHpvb20gPiAyMCkgem9vbSA9IDIwXHJcbiAgICAgIGlmICh6b29tIDwgMC4wMSkgem9vbSA9IDAuMDFcclxuXHJcbiAgICAgIC8vIOS7peW3puS4iuinkuS4uuWOn+eCuVxyXG4gICAgICBjYW52YXMuc2V0Wm9vbSh6b29tKVxyXG5cclxuICAgICAgLy8g5Lul6byg5qCH5omA5Zyo5L2N572u5Li65Y6f54K557yp5pS+XHJcbiAgICAgIC8vIGNhbnZhcy56b29tVG9Qb2ludChcclxuICAgICAgLy8gICB7XHJcbiAgICAgIC8vICAgICB4OiBvcHQuZS5vZmZzZXRYLFxyXG4gICAgICAvLyAgICAgeTogb3B0LmUub2Zmc2V0WSxcclxuICAgICAgLy8gICB9LFxyXG4gICAgICAvLyAgIHpvb21cclxuICAgICAgLy8gKVxyXG4gICAgICBvcHQuZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIG9wdC5lLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcclxuICAgIGNvbnN0IGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XHJcbiAgICBjYW52YXNSZWYuY3VycmVudC53aWR0aCA9IHdcclxuICAgIGNhbnZhc1JlZi5jdXJyZW50LmhlaWdodCA9IGhcclxuXHJcbiAgICBmYWJyaWNDYW52YXMuY3VycmVudCA9IG5ldyBmYWJyaWMuQ2FudmFzKGNhbnZhc1JlZi5jdXJyZW50KVxyXG4gICAgaW5pdChmYWJyaWNDYW52YXMuY3VycmVudClcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGZhYnJpY0NhbnZhcy5jdXJyZW50ID0gbnVsbFxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICA8Y2FudmFzIHJlZj17Y2FudmFzUmVmfSAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74259\n")}}]);